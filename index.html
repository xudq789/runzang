<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘½ç†åˆ†ææœåŠ¡å¹³å°</title>
    <style>
        :root {
            --primary-color: #8b4513; /* æ·±æ£•è‰² */
            --secondary-color: #d4af37; /* é‡‘è‰² */
            --accent-color: #f5f0e6; /* ç±³ç™½è‰² */
            --text-color: #5c3d2e; /* æ·±è¤è‰² */
            --light-bg: #f9f5ed; /* æµ…ç±³è‰² */
            --white: #ffffff;
            --error-color: #c0392b;
            --success-color: #27ae60;
            --shadow: 0 5px 20px rgba(139, 69, 19, 0.1);
            --transition: all 0.3s ease;
            --border-color: #d4af37;
            --card-bg: rgba(255, 255, 255, 0.95);
            --nav-bg: #1a0f0a; /* å¯¼èˆªæ èƒŒæ™¯è‰² */
            --nav-text: #ffd700; /* å¯¼èˆªæ æ–‡å­—é¢œè‰² */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', 'PingFang SC', 'STHeiti', 'SimSun', sans-serif;
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* å…è´£å£°æ˜ */
        .disclaimer-bar {
            background: linear-gradient(90deg, #2c1810, #8b4513, #2c1810);
            color: #f5f0e6;
            padding: 12px 0;
            overflow: hidden;
            position: relative;
            font-size: 14px;
            border-bottom: 3px solid var(--secondary-color);
            z-index: 1001;
            font-family: 'SimSun', serif;
            height: 45px;
            display: flex;
            align-items: center;
        }
        
        .disclaimer-wrapper {
            width: 100%;
            overflow: hidden;
            position: relative;
            height: 21px;
        }
        
        .disclaimer-content {
            display: inline-block;
            white-space: nowrap;
            padding-left: 100%;
            animation: scroll-text 25s linear infinite;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        @keyframes scroll-text {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        
        /* å¯¼èˆªæ æ ·å¼ - ä¼˜åŒ–ç‰ˆ */
        header {
            background-color: var(--nav-bg);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid var(--secondary-color);
            backdrop-filter: blur(10px);
            padding: 12px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .service-nav {
            display: flex;
            list-style: none;
            justify-content: space-between;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .service-nav li {
            flex: 1;
            text-align: center;
        }
        
        .service-nav a {
            text-decoration: none;
            color: var(--nav-text);
            font-weight: 600;
            transition: var(--transition);
            padding: 14px 20px;
            position: relative;
            font-size: 18px;
            border-radius: 8px;
            display: block;
            text-align: center;
            font-family: 'STHeiti', 'SimSun', serif;
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to bottom, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.05));
        }
        
        .service-nav a:hover,
        .service-nav a.active {
            background: linear-gradient(to bottom, rgba(212, 175, 55, 0.3), rgba(212, 175, 55, 0.2));
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        .service-nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background-color: var(--secondary-color);
            transition: var(--transition);
            border-radius: 3px;
        }
        
        .service-nav a.active::after {
            width: 70%;
        }
        
        /* é•¿å›¾å¸ƒå±€å®¹å™¨ */
        .long-layout-container {
            max-width: 1100px;
            margin: 0 auto;
            background-color: var(--white);
            box-shadow: 0 5px 30px rgba(139, 69, 19, 0.1);
            border-radius: 12px;
            overflow: hidden;
            margin-top: 25px;
            margin-bottom: 25px;
            border: 2px solid rgba(212, 175, 55, 0.2);
        }
        
        /* ä¸»å›¾åŒºåŸŸ */
        .main-image-section {
            text-align: center;
            border-bottom: 2px solid rgba(212, 175, 55, 0.2);
        }
        
        .main-image {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* ä¿¡æ¯å¡«å†™åŒºåŸŸ */
        .info-form-section {
            padding: 40px 40px 20px;
            border-bottom: 2px solid rgba(212, 175, 55, 0.2);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section-title h2 {
            display: inline-block;
            padding-bottom: 15px;
            font-size: 32px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--primary-color));
            border-radius: 2px;
        }
        
        .form-container {
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
            border: 2px solid rgba(212, 175, 55, 0.3);
            position: relative;
        }
        
        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 0 0 5px 5px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .required::after {
            content: " *";
            color: var(--error-color);
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(139, 69, 19, 0.3);
            border-radius: 8px;
            font-size: 16px;
            transition: var(--transition);
            background-color: #f9f5ed;
            color: var(--text-color);
        }
        
        input:focus, select:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
            background-color: white;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .error {
            color: var(--error-color);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        /* ä¼˜åŒ–åçš„åŠ¨æ€ä¼¸ç¼©è·³åŠ¨æŒ‰é’® - æ›´å¹³é¡ºçš„åŠ¨ç”» */
        .dynamic-pulse-btn {
            display: block;
            width: 100%;
            max-width: 500px;
            margin: 40px auto 0;
            padding: 22px 40px;
            background: linear-gradient(135deg, #8b0000, #c0392b, #8b0000);
            background-size: 200% 200%;
            color: #ffd700;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-decoration: none;
            text-align: center;
            box-shadow: 0 8px 20px rgba(139, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            border: 3px solid #ffd700;
            font-family: 'STHeiti', 'SimSun', serif;
            letter-spacing: 2px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            animation: 
                gradient-shift 4s ease-in-out infinite,
                gentle-pulse 3s ease-in-out infinite,
                glow-effect 3s ease-in-out infinite;
            transform-origin: center;
        }
        
        @keyframes gradient-shift {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }
        
        @keyframes gentle-pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(139, 0, 0, 0.3);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 12px 30px rgba(139, 0, 0, 0.4);
            }
        }
        
        @keyframes glow-effect {
            0%, 100% {
                border-color: #ffd700;
                box-shadow: 0 8px 20px rgba(139, 0, 0, 0.3), 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
                border-color: #ffed4e;
                box-shadow: 0 8px 20px rgba(139, 0, 0, 0.3), 0 0 25px rgba(255, 237, 78, 0.6);
            }
        }
        
        .dynamic-pulse-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: none;
        }
        
        .dynamic-pulse-btn:hover::before {
            animation: shine 1.5s ease;
        }
        
        @keyframes shine {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }
        
        .dynamic-pulse-btn::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 55px;
            z-index: -1;
            animation: border-pulse 3s ease-in-out infinite;
        }
        
        @keyframes border-pulse {
            0%, 100% {
                opacity: 0.5;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.02);
            }
        }
        
        .dynamic-pulse-btn:hover {
            animation: 
                gradient-shift 2s ease-in-out infinite,
                hover-pulse 1s ease-in-out infinite alternate,
                glow-effect 2s ease-in-out infinite;
            color: #fff;
            transform: translateY(-3px);
        }
        
        @keyframes hover-pulse {
            0% {
                transform: scale(1) translateY(-3px);
            }
            100% {
                transform: scale(1.08) translateY(-3px);
            }
        }
        
        .dynamic-pulse-btn span {
            position: relative;
            z-index: 1;
        }
        
        /* ä¼´ä¾£ä¿¡æ¯åŒºåŸŸ */
        .partner-info-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid rgba(212, 175, 55, 0.2);
            display: none;
        }
        
        .partner-info-section h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }
        
        .partner-info-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 2px;
            background-color: var(--secondary-color);
        }
        
        /* æœåŠ¡æ˜ç»†åŒºåŸŸ */
        .detail-image-section {
            text-align: center;
        }
        
        .detail-image {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* åˆ†æç»“æœåŒºåŸŸ */
        .analysis-result-section {
            display: none;
            padding: 60px 0;
        }
        
        .result-container {
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 40px;
            border: 2px solid rgba(212, 175, 55, 0.3);
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--secondary-color);
        }
        
        .result-content {
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-color);
            white-space: pre-wrap;
            font-family: 'SimSun', 'Microsoft YaHei', serif;
        }
        
        /* é¢„æµ‹è€…ä¿¡æ¯å¡ç‰‡ */
        .predictor-info-card {
            background: linear-gradient(135deg, #f5f0e6, #fff9e6);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.1);
            border: 2px solid rgba(212, 175, 55, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .predictor-info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
        }
        
        .predictor-info-card h4 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            font-size: 20px;
        }
        
        .predictor-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .predictor-info-item {
            display: flex;
            flex-direction: column;
        }
        
        .predictor-info-label {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .predictor-info-value {
            color: var(--text-color);
            font-size: 16px;
            font-weight: 500;
        }
        
        /* å…«å­—æ’ç›˜åŒºåŸŸ */
        .bazi-pan-card {
            background: linear-gradient(135deg, #f8f4e9, #fff5e6);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.1);
            border: 2px solid rgba(212, 175, 55, 0.3);
        }
        
        .bazi-pan-card h4 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            font-size: 20px;
            display: flex;
            align-items: center;
        }
        
        .bazi-pan-card h4::before {
            content: "ğŸ“œ";
            margin-right: 10px;
            font-size: 24px;
        }
        
        .bazi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .bazi-column {
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .bazi-label {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .bazi-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 5px;
            font-family: 'SimSun', serif;
        }
        
        .bazi-element {
            font-size: 14px;
            color: #7d6e63;
        }
        
        /* å¤§è¿æ’ç›˜åŒºåŸŸ */
        .dayun-pan-card {
            background: linear-gradient(135deg, #f0e6d6, #ffe6cc);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.1);
            border: 2px solid rgba(212, 175, 55, 0.3);
        }
        
        .dayun-pan-card h4 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            font-size: 20px;
            display: flex;
            align-items: center;
        }
        
        .dayun-pan-card h4::before {
            content: "ğŸŒ€";
            margin-right: 10px;
            font-size: 24px;
        }
        
        .dayun-info {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .dayun-item {
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .dayun-label {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .dayun-value {
            font-size: 16px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .dayun-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .dayun-table th {
            background-color: rgba(139, 69, 19, 0.1);
            color: var(--primary-color);
            font-weight: 600;
            padding: 12px;
            text-align: center;
            border: 1px solid rgba(139, 69, 19, 0.2);
        }
        
        .dayun-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid rgba(139, 69, 19, 0.2);
            font-family: 'SimSun', serif;
        }
        
        .dayun-table tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .dayun-table tr:hover {
            background-color: rgba(212, 175, 55, 0.1);
        }
        
        /* å…è´¹å†…å®¹åŒºåŸŸ */
        .free-content {
            padding: 25px;
            background-color: rgba(212, 175, 55, 0.05);
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid var(--success-color);
        }
        
        .free-content h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            font-size: 20px;
        }
        
        .analysis-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px dashed rgba(139, 69, 19, 0.2);
        }
        
        .analysis-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .analysis-section h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 18px;
            display: flex;
            align-items: center;
        }
        
        .analysis-section h5::before {
            content: "âœ¨";
            margin-right: 8px;
            font-size: 20px;
        }
        
        /* é”å®šå†…å®¹åŒºåŸŸ */
        .locked-content {
            padding: 25px;
            background-color: rgba(139, 69, 19, 0.05);
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid var(--error-color);
            position: relative;
            min-height: 300px;
        }
        
        .locked-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 120px;
            background: linear-gradient(to bottom, rgba(245, 240, 230, 0.9), rgba(245, 240, 230, 0.7));
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            border-radius: 10px;
            backdrop-filter: blur(3px);
            padding-top: 20px;
            border-bottom: 1px solid rgba(139, 69, 19, 0.1);
        }
        
        .locked-items {
            position: relative;
            z-index: 2;
            margin-top: 140px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .locked-items h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .locked-items ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .locked-items li {
            padding: 8px 0;
            border-bottom: 1px dashed rgba(139, 69, 19, 0.2);
            color: #7d6e63;
            position: relative;
            padding-left: 25px;
        }
        
        .locked-items li:last-child {
            border-bottom: none;
        }
        
        .locked-items li::before {
            content: "ğŸ”’";
            position: absolute;
            left: 0;
            top: 8px;
        }
        
        .lock-icon {
            font-size: 36px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .unlock-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }
        
        .unlock-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.4);
        }
        
        .result-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        /* æ”¯ä»˜å¼¹çª— */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow-y: auto;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: var(--card-bg);
            margin: 5% auto;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 600px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            border: 3px solid var(--secondary-color);
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            transition: var(--transition);
            position: absolute;
            right: 20px;
            top: 15px;
            z-index: 10;
        }
        
        .close:hover {
            color: var(--secondary-color);
        }
        
        .qr-codes {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .qr-code {
            text-align: center;
        }
        
        .qr-code img {
            width: 200px;
            height: 200px;
            border: 2px solid rgba(139, 69, 19, 0.2);
            border-radius: 10px;
            padding: 10px;
            background-color: white;
        }
        
        .qr-code p {
            margin-top: 10px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .order-info {
            background-color: #f8f4e9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .spinner {
            border: 5px solid rgba(139, 69, 19, 0.1);
            border-radius: 50%;
            border-top: 5px solid var(--secondary-color);
            width: 60px;
            height: 60px;
            animation: spin 1.2s linear infinite;
            margin: 0 auto 25px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            text-align: center;
            color: var(--primary-color);
            font-size: 18px;
            margin-bottom: 20px;
        }
        
        /* æ‰‹æœºç«¯ä¼˜åŒ– - é‡æ–°è®¾è®¡å“åº”å¼å¸ƒå±€ */
        @media (max-width: 768px) {
            /* å¯¼èˆªæ ä¼˜åŒ– */
            .service-nav {
                flex-wrap: nowrap;
                overflow-x: auto;
                justify-content: flex-start;
                scrollbar-width: none;
                padding: 0 10px;
            }
            
            .service-nav::-webkit-scrollbar {
                display: none;
            }
            
            .service-nav li {
                flex: 0 0 auto;
                min-width: 120px;
            }
            
            .service-nav a {
                padding: 10px 15px;
                font-size: 15px;
                white-space: nowrap;
                border-radius: 6px;
            }
            
            /* è¡¨å•å®¹å™¨ä¼˜åŒ– */
            .form-container {
                padding: 25px 15px;
                border-radius: 12px;
                margin: 0 10px;
            }
            
            .info-form-section {
                padding: 25px 15px 15px;
            }
            
            /* è¡¨å•è¡Œä¼˜åŒ– */
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            /* æŒ‰é’®ä¼˜åŒ– */
            .dynamic-pulse-btn {
                padding: 18px 25px;
                font-size: 19px;
                max-width: 90%;
                border-radius: 40px;
                margin: 30px auto 0;
                letter-spacing: 1px;
            }
            
            /* ç»“æœåŒºåŸŸä¼˜åŒ– */
            .result-container {
                padding: 25px 15px;
                margin: 0 10px;
            }
            
            /* å¡ç‰‡å†…è¾¹è·ä¼˜åŒ– */
            .predictor-info-card,
            .bazi-pan-card,
            .dayun-pan-card,
            .free-content,
            .locked-content {
                padding: 20px 15px;
            }
            
            /* å…«å­—ç½‘æ ¼ä¼˜åŒ– */
            .bazi-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .bazi-column {
                padding: 12px 8px;
            }
            
            .bazi-value {
                font-size: 18px;
            }
            
            /* é¢„æµ‹è€…ä¿¡æ¯ç½‘æ ¼ä¼˜åŒ– */
            .predictor-info-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            /* å¤§è¿ä¿¡æ¯ä¼˜åŒ– */
            .dayun-info {
                grid-template-columns: 1fr;
            }
            
            .dayun-table {
                font-size: 13px;
                display: block;
                overflow-x: auto;
            }
            
            .dayun-table th,
            .dayun-table td {
                padding: 8px 5px;
                min-width: 60px;
            }
            
            /* é”å®šåŒºåŸŸä¼˜åŒ– */
            .locked-overlay {
                height: 110px;
                padding-top: 15px;
            }
            
            .locked-items {
                margin-top: 120px;
                padding: 15px;
            }
            
            /* æ”¯ä»˜å¼¹çª—ä¼˜åŒ– */
            .modal-content {
                padding: 25px 15px;
                width: 95%;
                margin: 10% auto;
            }
            
            .qr-codes {
                flex-direction: column;
                gap: 20px;
                align-items: center;
            }
            
            .qr-code img {
                width: 180px;
                height: 180px;
            }
            
            /* ç»“æœæ“ä½œæŒ‰é’®ä¼˜åŒ– */
            .result-actions {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .result-actions .dynamic-pulse-btn {
                max-width: 280px;
                width: 100%;
            }
            
            /* æ ‡é¢˜ä¼˜åŒ– */
            .section-title h2 {
                font-size: 24px;
                padding-bottom: 10px;
            }
            
            .section-title h2::after {
                width: 80px;
            }
            
            /* é•¿å›¾å®¹å™¨ä¼˜åŒ– */
            .long-layout-container {
                margin-top: 15px;
                margin-bottom: 15px;
                border-radius: 10px;
                overflow: hidden;
            }
            
            /* å…è´£å£°æ˜ä¼˜åŒ– */
            .disclaimer-bar {
                height: 40px;
                font-size: 12px;
            }
            
            .disclaimer-wrapper {
                height: 18px;
            }
            
            /* ä¸»å›¾ä¼˜åŒ– */
            .main-image, .detail-image {
                width: 100%;
                height: auto;
                min-height: 150px;
                object-fit: cover;
            }
            
            /* åˆ†æå†…å®¹å­—ä½“ä¼˜åŒ– */
            .analysis-section h5 {
                font-size: 16px;
            }
            
            .analysis-content {
                font-size: 14px;
            }
        }
        
        /* å°å±å¹•æ‰‹æœºä¼˜åŒ– */
        @media (max-width: 480px) {
            .service-nav li {
                min-width: 110px;
            }
            
            .service-nav a {
                font-size: 14px;
                padding: 8px 12px;
            }
            
            .dynamic-pulse-btn {
                padding: 16px 20px;
                font-size: 17px;
                letter-spacing: 0.5px;
            }
            
            .section-title h2 {
                font-size: 22px;
            }
            
            .form-container {
                padding: 20px 12px;
            }
            
            input, select {
                padding: 10px;
                font-size: 15px;
            }
            
            label {
                font-size: 15px;
            }
            
            .bazi-grid {
                grid-template-columns: 1fr;
            }
            
            .bazi-column {
                padding: 15px 10px;
            }
            
            .result-header h3 {
                font-size: 20px;
            }
            
            .locked-overlay {
                height: 100px;
                padding-top: 12px;
            }
            
            .locked-items {
                margin-top: 110px;
                padding: 12px;
            }
            
            .lock-icon {
                font-size: 30px;
            }
            
            .unlock-btn {
                padding: 10px 25px;
                font-size: 15px;
            }
            
            .modal-content {
                padding: 20px 12px;
                margin: 5% auto;
            }
            
            .qr-code img {
                width: 160px;
                height: 160px;
            }
            
            .order-info {
                padding: 15px;
                font-size: 14px;
            }
        }
        
        /* è¶…å°å±å¹•ä¼˜åŒ– */
        @media (max-width: 360px) {
            .service-nav li {
                min-width: 100px;
            }
            
            .service-nav a {
                font-size: 13px;
                padding: 7px 10px;
            }
            
            .dynamic-pulse-btn {
                padding: 14px 18px;
                font-size: 16px;
            }
            
            .section-title h2 {
                font-size: 20px;
            }
            
            .bazi-value {
                font-size: 16px;
            }
            
            .result-actions .dynamic-pulse-btn {
                max-width: 250px;
            }
        }
        
        /* å¹³æ¿è®¾å¤‡ä¼˜åŒ– */
        @media (min-width: 769px) and (max-width: 1024px) {
            .service-nav a {
                padding: 12px 15px;
                font-size: 16px;
            }
            
            .dynamic-pulse-btn {
                max-width: 80%;
                padding: 20px 35px;
                font-size: 22px;
            }
            
            .form-container {
                padding: 35px 30px;
            }
            
            .bazi-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .predictor-info-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .modal-content {
                width: 85%;
                padding: 35px;
            }
        }
    </style>
</head>
<body>
    <!-- å…è´£å£°æ˜æ»šåŠ¨æ¡ -->
    <div class="disclaimer-bar">
        <div class="disclaimer-wrapper">
            <div class="disclaimer-content">
                <strong>é‡è¦å£°æ˜ï¼š</strong>æœ¬å¹³å°æä¾›çš„å‘½ç†åˆ†ææœåŠ¡ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•å®é™…çš„äººç”Ÿå»ºè®®æˆ–å†³ç­–ä¾æ®ã€‚å‘½è¿æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œè¯·ç†æ€§å¯¹å¾…åˆ†æç»“æœï¼Œåˆ‡å‹¿è¿·ä¿¡ã€‚æœ¬æœåŠ¡åŸºäºä¼ ç»Ÿå‘½ç†å­¦è¯´ï¼Œåˆ†æç»“æœä»…ä¾›å‚è€ƒã€‚
            </div>
        </div>
    </div>

    <!-- å¯¼èˆªæ  -->
    <header>
        <ul class="service-nav">
            <li><a href="#" class="active" onclick="switchService('æµ‹ç®—éªŒè¯')">æµ‹ç®—éªŒè¯</a></li>
            <li><a href="#" onclick="switchService('æµå¹´è¿ç¨‹')">æµå¹´è¿ç¨‹</a></li>
            <li><a href="#" onclick="switchService('äººç”Ÿè¯¦æ‰¹')">äººç”Ÿè¯¦æ‰¹</a></li>
            <li><a href="#" onclick="switchService('å…«å­—åˆå©š')">å…«å­—åˆå©š</a></li>
        </ul>
    </header>

    <!-- é•¿å›¾å¸ƒå±€å®¹å™¨ -->
    <div class="long-layout-container">
        <!-- ä¸»å›¾åŒºåŸŸ -->
        <section class="main-image-section">
            <img id="hero-image" src="./images/cesuan-hero.jpg" alt="æµ‹ç®—éªŒè¯è‹±é›„åŒº" class="main-image">
        </section>

        <!-- ä¿¡æ¯å¡«å†™åŒºåŸŸ -->
        <section class="info-form-section">
            <div class="section-title">
                <h2 id="form-title">æµ‹ç®—éªŒè¯ä¿¡æ¯å¡«å†™</h2>
            </div>
            
            <div class="form-container">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <div class="form-group">
                    <label for="name" class="required">å§“å</label>
                    <input type="text" id="name" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
                    <div class="error" id="name-error">è¯·è¾“å…¥å§“å</div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="gender" class="required">æ€§åˆ«</label>
                        <select id="gender">
                            <option value="">è¯·é€‰æ‹©æ€§åˆ«</option>
                            <option value="male">ç”·</option>
                            <option value="female">å¥³</option>
                        </select>
                        <div class="error" id="gender-error">è¯·é€‰æ‹©æ€§åˆ«</div>
                    </div>
                    <div class="form-group">
                        <label for="birth-city" class="required">å‡ºç”ŸåŸå¸‚</label>
                        <input type="text" id="birth-city" placeholder="è¯·è¾“å…¥å‡ºç”ŸåŸå¸‚">
                        <div class="error" id="birth-city-error">è¯·è¾“å…¥å‡ºç”ŸåŸå¸‚</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="required">å‡ºç”Ÿæ—¶é—´</label>
                    <div class="form-row">
                        <div class="form-group">
                            <select id="birth-year">
                                <option value="">å‡ºç”Ÿå¹´ä»½</option>
                            </select>
                            <div class="error" id="birth-year-error">è¯·é€‰æ‹©å‡ºç”Ÿå¹´ä»½</div>
                        </div>
                        <div class="form-group">
                            <select id="birth-month">
                                <option value="">å‡ºç”Ÿæœˆä»½</option>
                            </select>
                            <div class="error" id="birth-month-error">è¯·é€‰æ‹©å‡ºç”Ÿæœˆä»½</div>
                        </div>
                        <div class="form-group">
                            <select id="birth-day">
                                <option value="">å‡ºç”Ÿæ—¥æœŸ</option>
                            </select>
                            <div class="error" id="birth-day-error">è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <select id="birth-hour">
                                <option value="">å‡ºç”Ÿæ—¶è¾°</option>
                            </select>
                            <div class="error" id="birth-hour-error">è¯·é€‰æ‹©å‡ºç”Ÿæ—¶è¾°</div>
                        </div>
                        <div class="form-group">
                            <select id="birth-minute">
                                <option value="">å‡ºç”Ÿåˆ†é’Ÿ</option>
                            </select>
                            <div class="error" id="birth-minute-error">è¯·é€‰æ‹©å‡ºç”Ÿåˆ†é’Ÿ</div>
                        </div>
                    </div>
                </div>
                
                <!-- ä¼´ä¾£ä¿¡æ¯åŒºåŸŸ (å…«å­—åˆå©šæ—¶æ˜¾ç¤º) -->
                <div id="partner-info-section" class="partner-info-section">
                    <h3>ä¼´ä¾£ä¿¡æ¯</h3>
                    
                    <div class="form-group">
                        <label for="partner-name" class="required">ä¼´ä¾£å§“å</label>
                        <input type="text" id="partner-name" placeholder="è¯·è¾“å…¥ä¼´ä¾£å§“å">
                        <div class="error" id="partner-name-error">è¯·è¾“å…¥ä¼´ä¾£å§“å</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="partner-gender" class="required">ä¼´ä¾£æ€§åˆ«</label>
                            <select id="partner-gender">
                                <option value="">è¯·é€‰æ‹©æ€§åˆ«</option>
                                <option value="male">ç”·</option>
                                <option value="female">å¥³</option>
                            </select>
                            <div class="error" id="partner-gender-error">è¯·é€‰æ‹©ä¼´ä¾£æ€§åˆ«</div>
                        </div>
                        <div class="form-group">
                            <label for="partner-birth-city" class="required">ä¼´ä¾£å‡ºç”ŸåŸå¸‚</label>
                            <input type="text" id="partner-birth-city" placeholder="è¯·è¾“å…¥ä¼´ä¾£å‡ºç”ŸåŸå¸‚">
                            <div class="error" id="partner-birth-city-error">è¯·è¾“å…¥ä¼´ä¾£å‡ºç”ŸåŸå¸‚</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">ä¼´ä¾£å‡ºç”Ÿæ—¶é—´</label>
                        <div class="form-row">
                            <div class="form-group">
                                <select id="partner-birth-year">
                                    <option value="">å‡ºç”Ÿå¹´ä»½</option>
                                </select>
                                <div class="error" id="partner-birth-year-error">è¯·é€‰æ‹©ä¼´ä¾£å‡ºç”Ÿå¹´ä»½</div>
                            </div>
                            <div class="form-group">
                                <select id="partner-birth-month">
                                    <option value="">å‡ºç”Ÿæœˆä»½</option>
                                </select>
                                <div class="error" id="partner-birth-month-error">è¯·é€‰æ‹©ä¼´ä¾£å‡ºç”Ÿæœˆä»½</div>
                            </div>
                            <div class="form-group">
                                <select id="partner-birth-day">
                                    <option value="">å‡ºç”Ÿæ—¥æœŸ</option>
                                </select>
                                <div class="error" id="partner-birth-day-error">è¯·é€‰æ‹©ä¼´ä¾£å‡ºç”Ÿæ—¥æœŸ</div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <select id="partner-birth-hour">
                                    <option value="">å‡ºç”Ÿæ—¶è¾°</option>
                                </select>
                                <div class="error" id="partner-birth-hour-error">è¯·é€‰æ‹©ä¼´ä¾£å‡ºç”Ÿæ—¶è¾°</div>
                            </div>
                            <div class="form-group">
                                <select id="partner-birth-minute">
                                    <option value="">å‡ºç”Ÿåˆ†é’Ÿ</option>
                                </select>
                                <div class="error" id="partner-birth-minute-error">è¯·é€‰æ‹©ä¼´ä¾£å‡ºç”Ÿåˆ†é’Ÿ</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="dynamic-pulse-btn" onclick="startAnalysis()"><span>ç«‹å³æµ‹ç®—</span></button>
            </div>
        </section>

        <!-- æœåŠ¡æ˜ç»†åŒºåŸŸ -->
        <section class="detail-image-section">
            <img id="detail-image" src="./images/cesuan-detail.jpg" alt="æµ‹ç®—éªŒè¯æœåŠ¡æ˜ç»†" class="detail-image">
        </section>
    </div>

    <!-- åˆ†æç»“æœåŒºåŸŸ -->
    <section id="analysis-result-section" class="analysis-result-section">
        <div class="long-layout-container">
            <div class="section-title">
                <h2>å‘½ç†åˆ†ææŠ¥å‘Š</h2>
                <p>åŸºäºæ‚¨çš„å‡ºç”Ÿä¿¡æ¯è¿›è¡Œçš„ä¸“ä¸šå‘½ç†åˆ†æ</p>
            </div>
            
            <div class="result-container">
                <div class="result-header">
                    <h3 id="result-service-name">æµ‹ç®—éªŒè¯åˆ†ææŠ¥å‘Š</h3>
                    <p>åˆ†ææ—¶é—´: <span id="analysis-time"></span></p>
                </div>
                
                <div class="result-content">
                    <!-- é¢„æµ‹è€…ä¿¡æ¯ -->
                    <div class="predictor-info-card" id="predictor-info">
                        <h4>é¢„æµ‹è€…ä¿¡æ¯</h4>
                        <div class="predictor-info-grid" id="predictor-info-grid">
                            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </div>
                    </div>
                    
                    <!-- å…«å­—æ’ç›˜ç»“æœ -->
                    <div class="bazi-pan-card" id="bazi-pan">
                        <h4>å…«å­—æ’ç›˜ç»“æœ</h4>
                        <div class="bazi-grid" id="bazi-grid">
                            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </div>
                    </div>
                    
                    <!-- å¤§è¿æ’ç›˜ç»“æœ -->
                    <div class="dayun-pan-card" id="dayun-pan">
                        <h4>å¤§è¿æ’ç›˜ç»“æœ</h4>
                        <div class="dayun-info" id="dayun-info">
                            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </div>
                        <div class="dayun-table-container">
                            <table class="dayun-table" id="dayun-table">
                                <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                            </table>
                        </div>
                    </div>
                    
                    <!-- å…è´¹å†…å®¹åŒºåŸŸ -->
                    <div class="free-content" id="free-content">
                        <h4>å…è´¹åˆ†æå†…å®¹</h4>
                        <div id="free-analysis-text">
                            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å……å…è´¹å†…å®¹ -->
                        </div>
                    </div>
                    
                    <!-- é”å®šå†…å®¹åŒºåŸŸ -->
                    <div class="locked-content" id="locked-content">
                        <div class="locked-overlay" id="locked-overlay">
                            <div class="lock-icon">ğŸ”’</div>
                            <p style="text-align: center; font-weight: bold; color: var(--primary-color); margin-bottom: 10px; font-size: 18px;">
                                å®Œæ•´å†…å®¹å·²é”å®š
                            </p>
                            <p style="text-align: center; color: var(--text-color); margin-bottom: 15px;">
                                è§£é”å®Œæ•´åˆ†ææŠ¥å‘Šï¼ŒæŸ¥çœ‹å…¨éƒ¨å‘½ç†åˆ†æå†…å®¹
                            </p>
                            <button class="unlock-btn" onclick="showPaymentModal()">è§£é”å®Œæ•´æŠ¥å‘Š (Â¥<span id="unlock-price">19.9</span>)</button>
                        </div>
                        
                        <div class="locked-items">
                            <h4>æœªè§£é”åˆ†æé¡¹ç›®</h4>
                            <ul id="locked-items-list">
                                <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                            </ul>
                        </div>
                        
                        <div id="locked-analysis-text" style="display: none;">
                            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å……å®Œæ•´å†…å®¹ -->
                        </div>
                    </div>
                </div>
                
                <div class="result-actions">
                    <button class="dynamic-pulse-btn" style="max-width: 250px;" onclick="downloadReport()"><span>ä¸‹è½½æŠ¥å‘Š</span></button>
                    <button class="dynamic-pulse-btn" style="max-width: 250px; background: linear-gradient(135deg, #5c3d2e, #7d6e63);" onclick="newAnalysis()"><span>é‡æ–°æµ‹ç®—</span></button>
                </div>
            </div>
        </div>
    </section>

    <!-- æ”¯ä»˜å¼¹çª— -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h3 style="color: var(--primary-color); text-align: center; margin-bottom: 20px;">è§£é”å®Œæ•´æŠ¥å‘Š</h3>
            
            <div class="order-info">
                <p><strong>æœåŠ¡ç±»å‹:</strong> <span id="payment-service-type" style="color: var(--primary-color); font-weight: 600;"></span></p>
                <p><strong>è§£é”é‡‘é¢:</strong> <span id="payment-amount" style="color: var(--secondary-color); font-weight: bold; font-size: 18px;"></span></p>
                <p><strong>è®¢å•å·:</strong> <span id="payment-order-id" style="color: #7d6e63;"></span></p>
            </div>
            
            <div style="text-align: center; margin: 20px 0; padding: 15px; background-color: rgba(212, 175, 55, 0.1); border-radius: 10px;">
                <p>âœ… è¯·æ‰«æä¸‹æ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜</p>
            </div>
            
            <div class="qr-codes">
                <div class="qr-code">
                    <img id="wechat-qr" src="./images/wechat-pay.jpg" alt="å¾®ä¿¡æ”¯ä»˜ç ">
                    <p>å¾®ä¿¡æ”¯ä»˜</p>
                </div>
                <div class="qr-code">
                    <img id="alipay-qr" src="./images/alipay.jpg" alt="æ”¯ä»˜å®æ”¯ä»˜ç ">
                    <p>æ”¯ä»˜å®</p>
                </div>
            </div>
            
            <div style="text-align: center; margin: 20px 0; padding: 15px; background-color: #f8f9fa; border-radius: 10px; border-left: 5px solid var(--secondary-color);">
                <p id="payment-status-text">è¯·ä½¿ç”¨å¾®ä¿¡æˆ–æ”¯ä»˜å®æ‰«æä¸Šæ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜</p>
                <p style="font-size: 14px; color: #7d6e63; margin-top: 8px;">æ”¯ä»˜å®Œæˆåè¯·ç‚¹å‡»"æˆ‘å·²æ”¯ä»˜"æŒ‰é’®</p>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px;">
                <button class="dynamic-pulse-btn" style="max-width: 180px; padding: 12px 25px; font-size: 16px;" onclick="confirmPayment()"><span>æˆ‘å·²æ”¯ä»˜</span></button>
                <button class="dynamic-pulse-btn" style="max-width: 180px; padding: 12px 25px; font-size: 16px; background: linear-gradient(135deg, #5c3d2e, #7d6e63);" onclick="closePaymentModal()"><span>å–æ¶ˆ</span></button>
            </div>
        </div>
    </div>

    <!-- åŠ è½½å¼¹çª— -->
    <div id="loading-modal" class="modal">
        <div class="modal-content" style="text-align: center; padding: 60px 40px;">
            <div class="spinner"></div>
            <div class="loading-text">æ­£åœ¨ä¸ºæ‚¨è¿›è¡Œå‘½ç†åˆ†æï¼Œè¯·ç¨å€™...</div>
            <p style="color: #7d6e63; margin-top: 20px;">åŸºäºæ‚¨çš„å‡ºç”Ÿä¿¡æ¯ï¼Œæˆ‘ä»¬çš„å‘½ç†åˆ†æç³»ç»Ÿæ­£åœ¨æ·±åº¦è®¡ç®—ä¸­ï¼Œå¤§çº¦éœ€è¦1-2åˆ†é’Ÿ</p>
        </div>
    </div>

    <script>
        // DeepSeek APIé…ç½®
        const DEEPSEEK_API_KEY = 'sk-0c763bf4e169413dbd57a45e8ca73a6a';
        const DEEPSEEK_API_URL = 'https://api.deepseek.com/v1/chat/completions';
        
        // æœåŠ¡é…ç½® - åŒ…å«æœªè§£é”é¡¹ç›®åˆ—è¡¨
        const SERVICES = {
            'æµ‹ç®—éªŒè¯': {
                heroImage: './images/cesuan-hero.jpg',
                detailImage: './images/cesuan-detail.jpg',
                price: 19.9,
                lockedItems: [
                    'å¯Œè´µå±‚æ¬¡è¯„ä¼°',
                    'è¿‡å¾€å¤§è¿è¥å‡¶åˆ†æ',
                    'è¿‡å¾€å…³é”®æµå¹´éªŒè¯', 
                    'ä¸“ä¸šå»ºè®®ä¸æŒ‡å¯¼'
                ],
                prompt: `ä½ æ˜¯ä¸€ä½èŒä¸šçš„å‘½ç†å¤§å¸ˆï¼Œç²¾é€šæ¢æ¹˜æ¶¦è®ºå‘½ä½“ç³»ã€‚è¯·æ ¹æ®ä»¥ä¸‹ç”¨æˆ·ä¿¡æ¯ç”¨çœŸå¤ªé˜³æ—¶æ’ç›˜å…«å­—è¿›è¡Œå‘½ç†åˆ†æï¼š

ç”¨æˆ·ä¿¡æ¯ï¼š
å§“åï¼š{name}
æ€§åˆ«ï¼š{gender}
å‡ºç”Ÿæ—¶é—´ï¼š{birthYear}å¹´{birthMonth}æœˆ{birthDay}æ—¥{birthHour}æ—¶{birthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š{birthCity}

è¯·ç›´æ¥è¿›è¡Œä»¥ä¸‹åˆ†æï¼ˆä¸è¦æè¿°æ’å…«å­—å’Œæ’å¤§è¿çš„è¿‡ç¨‹ï¼‰ï¼Œå¹¶è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºç»“æœï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´ï¼š

ã€å…«å­—å–œç”¨åˆ†æã€‘
ç”¨ç©·é€šå®é‰´ã€å­å¹³çœŸè¯ ã€ä¸‰åé€šä¼šå…­åç”²å­æ—¥æ—¶æ–­æ·±å…¥åˆ†æå…«å­—å–œç”¨ï¼Œè¯¦ç»†è¯´æ˜å–œç”¨ç¥å’Œå¿Œç¥ã€‚

ã€æ€§æ ¼ç‰¹ç‚¹ã€‘
è¯¦ç»†è§£è¯»ç”¨æˆ·æ€§æ ¼ç‰¹ç‚¹ï¼ŒåŒ…æ‹¬ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œä¸ªæ€§å€¾å‘ã€‚

ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘
æ ¹æ®å…«å­—å–œç”¨å’Œäº”è¡Œå±æ€§ï¼Œæ¨èé€‚åˆçš„è¡Œä¸šå’ŒèŒä¸šå‘å±•æ–¹å‘ã€‚

ã€å¯Œè´µå±‚æ¬¡è¯„ä¼°ã€‘
è¯„ä¼°ç”¨æˆ·çš„å¯Œè´µå±‚æ¬¡ï¼ŒåŒ…æ‹¬è´¢å¯Œã€äº‹ä¸šå’Œç¤¾ä¼šåœ°ä½ç­‰æ–¹é¢çš„æ½œåŠ›ã€‚

ã€è¿‡å¾€å¤§è¿è¥å‡¶åˆ†æã€‘
åˆ†æç”¨æˆ·è¿‡å¾€å¤§è¿çš„å‰å‡¶æƒ…å†µï¼ŒæŒ‡å‡ºå…³é”®æ—¶æœŸå’Œè½¬æŠ˜ç‚¹ã€‚

ã€è¿‡å¾€å…³é”®æµå¹´éªŒè¯ã€‘
éªŒè¯ç”¨æˆ·è¿‡å¾€å…³é”®æµå¹´çš„è¿åŠ¿ï¼Œä¸å®é™…ç»å†è¿›è¡Œå¯¹ç…§åˆ†æã€‚

ã€ä¸“ä¸šå»ºè®®ä¸æŒ‡å¯¼ã€‘
æä¾›ä¸“ä¸šçš„å‘½ç†å»ºè®®å’Œå‘å±•æŒ‡å¯¼ï¼Œå¸®åŠ©ç”¨æˆ·æŠŠæ¡æœªæ¥æœºé‡ã€‚

è¦æ±‚ï¼š
1. å›å¤å­—æ•°æ§åˆ¶åœ¨3000-3500å­—ä¹‹é—´
2. ä½¿ç”¨çº¯æ–‡æœ¬æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•markdownç¬¦å·
3. å›å¤å†…å®¹è¦ä¸“ä¸šã€è¯¦ç»†ä½†æ˜“æ‡‚
4. åˆ†æè¦ç›´æ¥æ˜äº†ï¼Œä¸è¦æœ‰"é¦–å…ˆ"ã€"ç„¶å"ç­‰è¿‡ç¨‹æ€§è¯è¯­
5. ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ ¼å¼è¾“å‡ºï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´`
            },
            'æµå¹´è¿ç¨‹': {
                heroImage: './images/liunian-hero.jpg',
                detailImage: './images/liunian-detail.jpg',
                price: 38,
                lockedItems: [
                    'å¯Œè´µå±‚æ¬¡è¯„ä¼°',
                    'æµ‹ç®—å½“å¹´åŠå¾€å5å¹´è¿åŠ¿',
                    'äº‹ä¸šè´¢è¿èµ°å‘åˆ†æ',
                    'å©šå§»æ„Ÿæƒ…è¶‹åŠ¿åˆ†æ',
                    'å¹´åº¦å‘å±•å»ºè®®',
                    'é‡è¦æ³¨æ„äº‹é¡¹'
                ],
                prompt: `ä½ æ˜¯ä¸€ä½èŒä¸šçš„å‘½ç†å¤§å¸ˆï¼Œç²¾é€šæ¢æ¹˜æ¶¦è®ºå‘½ä½“ç³»ã€‚è¯·æ ¹æ®ä»¥ä¸‹ç”¨æˆ·ä¿¡æ¯ç”¨çœŸå¤ªé˜³æ—¶æ’ç›˜å…«å­—è¿›è¡Œå‘½ç†åˆ†æï¼š

ç”¨æˆ·ä¿¡æ¯ï¼š
å§“åï¼š{name}
æ€§åˆ«ï¼š{gender}
å‡ºç”Ÿæ—¶é—´ï¼š{birthYear}å¹´{birthMonth}æœˆ{birthDay}æ—¥{birthHour}æ—¶{birthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š{birthCity}

è¯·ç›´æ¥è¿›è¡Œä»¥ä¸‹åˆ†æï¼ˆä¸è¦æè¿°æ’å…«å­—å’Œæ’å¤§è¿çš„è¿‡ç¨‹ï¼‰ï¼Œå¹¶è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºç»“æœï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´ï¼š

ã€å…«å­—å–œç”¨åˆ†æã€‘
ç”¨ç©·é€šå®é‰´ã€å­å¹³çœŸè¯ ã€ä¸‰åé€šä¼šå…­åç”²å­æ—¥æ—¶æ–­æ·±å…¥åˆ†æå…«å­—å–œç”¨ï¼Œè¯¦ç»†è¯´æ˜å–œç”¨ç¥å’Œå¿Œç¥ã€‚

ã€æ€§æ ¼ç‰¹ç‚¹ã€‘
è¯¦ç»†è§£è¯»ç”¨æˆ·æ€§æ ¼ç‰¹ç‚¹ï¼ŒåŒ…æ‹¬ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œä¸ªæ€§å€¾å‘ã€‚

ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘
æ ¹æ®å…«å­—å–œç”¨å’Œäº”è¡Œå±æ€§ï¼Œæ¨èé€‚åˆçš„è¡Œä¸šå’ŒèŒä¸šå‘å±•æ–¹å‘ã€‚

ã€å¯Œè´µå±‚æ¬¡è¯„ä¼°ã€‘
è¯„ä¼°ç”¨æˆ·çš„å¯Œè´µå±‚æ¬¡ï¼ŒåŒ…æ‹¬è´¢å¯Œã€äº‹ä¸šå’Œç¤¾ä¼šåœ°ä½ç­‰æ–¹é¢çš„æ½œåŠ›ã€‚

ã€æµ‹ç®—å½“å¹´åŠå¾€å5å¹´è¿åŠ¿ã€‘
è¯¦ç»†åˆ†æå½“å¹´åŠæœªæ¥5å¹´çš„è¿åŠ¿èµ°åŠ¿ï¼ŒæŒ‡å‡ºå‰å‡¶å¹´ä»½ã€‚

ã€äº‹ä¸šè´¢è¿èµ°å‘ã€‘
åˆ†æç”¨æˆ·äº‹ä¸šå’Œè´¢è¿çš„å‘å±•è¶‹åŠ¿ï¼ŒæŒ‡å‡ºå…³é”®æœºé‡å’ŒæŒ‘æˆ˜ã€‚

ã€å©šå§»æ„Ÿæƒ…è¶‹åŠ¿ã€‘
åˆ†æç”¨æˆ·å©šå§»å’Œæ„Ÿæƒ…çš„å‘å±•è¶‹åŠ¿ï¼ŒæŒ‡å‡ºå…³é”®æ—¶æœŸå’Œæ³¨æ„äº‹é¡¹ã€‚

ã€å¹´åº¦å‘å±•å»ºè®®ã€‘
æä¾›å½“å¹´çš„å…·ä½“å‘å±•å»ºè®®ï¼ŒåŒ…æ‹¬äº‹ä¸šã€è´¢è¿ã€å¥åº·ç­‰æ–¹é¢ã€‚

ã€é‡è¦æ³¨æ„äº‹é¡¹ã€‘
æé†’ç”¨æˆ·éœ€è¦æ³¨æ„çš„é‡è¦äº‹é¡¹å’Œé˜²èŒƒçš„é£é™©ã€‚

è¦æ±‚ï¼š
1. å›å¤å­—æ•°æ§åˆ¶åœ¨3000-3500å­—ä¹‹é—´
2. ä½¿ç”¨çº¯æ–‡æœ¬æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•markdownç¬¦å·
3. å›å¤å†…å®¹è¦ä¸“ä¸šã€è¯¦ç»†ä½†æ˜“æ‡‚
4. åˆ†æè¦ç›´æ¥æ˜äº†ï¼Œä¸è¦æœ‰"é¦–å…ˆ"ã€"ç„¶å"ç­‰è¿‡ç¨‹æ€§è¯è¯­
5. ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ ¼å¼è¾“å‡ºï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´`
            },
            'äººç”Ÿè¯¦æ‰¹': {
                heroImage: './images/rensheng-hero.jpg',
                detailImage: './images/rensheng-detail.jpg',
                price: 68,
                lockedItems: [
                    'å¯Œè´µå±‚æ¬¡è¯„ä¼°',
                    'äººç”Ÿæ¯æ­¥å¤§è¿è¥å‡¶åˆ†æ',
                    'å¾€åå…³é”®æµå¹´åˆ†æ',
                    'é‡è¦äººç”Ÿäº‹é¡¹æé†’',
                    'é£æ°´å»ºè®®',
                    'ä¸ªäººå‘å±•å»ºè®®'
                ],
                prompt: `ä½ æ˜¯ä¸€ä½èŒä¸šçš„å‘½ç†å¤§å¸ˆï¼Œç²¾é€šæ¢æ¹˜æ¶¦è®ºå‘½ä½“ç³»ã€‚è¯·æ ¹æ®ä»¥ä¸‹ç”¨æˆ·ä¿¡æ¯ç”¨çœŸå¤ªé˜³æ—¶æ’ç›˜å…«å­—è¿›è¡Œå‘½ç†åˆ†æï¼š

ç”¨æˆ·ä¿¡æ¯ï¼š
å§“åï¼š{name}
æ€§åˆ«ï¼š{gender}
å‡ºç”Ÿæ—¶é—´ï¼š{birthYear}å¹´{birthMonth}æœˆ{birthDay}æ—¥{birthHour}æ—¶{birthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š{birthCity}

è¯·ç›´æ¥è¿›è¡Œä»¥ä¸‹å…¨é¢åˆ†æï¼ˆä¸è¦æè¿°æ’å…«å­—å’Œæ’å¤§è¿çš„è¿‡ç¨‹ï¼‰ï¼Œå¹¶è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºç»“æœï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´ï¼š

ã€å…«å­—å–œç”¨åˆ†æã€‘
ç”¨ç©·é€šå®é‰´ã€å­å¹³çœŸè¯ ã€ä¸‰åé€šä¼šå…­åç”²å­æ—¥æ—¶æ–­æ·±å…¥åˆ†æå…«å­—å–œç”¨ï¼Œè¯¦ç»†è¯´æ˜å–œç”¨ç¥å’Œå¿Œç¥ã€‚

ã€æ€§æ ¼ç‰¹ç‚¹ã€‘
è¯¦ç»†è§£è¯»ç”¨æˆ·æ€§æ ¼ç‰¹ç‚¹ï¼ŒåŒ…æ‹¬ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œä¸ªæ€§å€¾å‘ã€‚

ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘
æ ¹æ®å…«å­—å–œç”¨å’Œäº”è¡Œå±æ€§ï¼Œæ¨èé€‚åˆçš„è¡Œä¸šå’ŒèŒä¸šå‘å±•æ–¹å‘ã€‚

ã€å¯Œè´µå±‚æ¬¡è¯„ä¼°ã€‘
è¯„ä¼°ç”¨æˆ·çš„å¯Œè´µå±‚æ¬¡ï¼ŒåŒ…æ‹¬è´¢å¯Œã€äº‹ä¸šå’Œç¤¾ä¼šåœ°ä½ç­‰æ–¹é¢çš„æ½œåŠ›ã€‚

ã€äººç”Ÿæ¯æ­¥å¤§è¿è¥å‡¶åˆ†æã€‘
è¯¦ç»†åˆ†æç”¨æˆ·äººç”Ÿæ¯ä¸€æ­¥å¤§è¿çš„å‰å‡¶æƒ…å†µï¼ŒæŒ‡å‡ºå…³é”®æ—¶æœŸå’Œè½¬æŠ˜ç‚¹ã€‚

ã€å¾€åå…³é”®æµå¹´åˆ†æã€‘
åˆ†æç”¨æˆ·æœªæ¥å…³é”®æµå¹´çš„è¿åŠ¿ï¼ŒæŒ‡å‡ºé‡è¦å¹´ä»½å’Œæœºé‡æŒ‘æˆ˜ã€‚

ã€é‡è¦äººç”Ÿäº‹é¡¹æé†’ã€‘
æé†’ç”¨æˆ·äººç”Ÿä¸­éœ€è¦æ³¨æ„çš„é‡è¦äº‹é¡¹å’Œå…³é”®èŠ‚ç‚¹ã€‚

ã€é£æ°´å»ºè®®ã€‘
æ ¹æ®ç”¨æˆ·å…«å­—ç‰¹ç‚¹ï¼Œæä¾›é£æ°´è°ƒæ•´å»ºè®®ã€‚

ã€ä¸ªäººå‘å±•å»ºè®®ã€‘
æä¾›ä¸ªäººå‘å±•çš„ç»¼åˆå»ºè®®ï¼Œå¸®åŠ©ç”¨æˆ·æŠŠæ¡äººç”Ÿæ–¹å‘ã€‚

è¦æ±‚ï¼š
1. å›å¤å­—æ•°æ§åˆ¶åœ¨3500-4000å­—ä¹‹é—´
2. ä½¿ç”¨çº¯æ–‡æœ¬æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•markdownç¬¦å·
3. å›å¤å†…å®¹è¦ä¸“ä¸šã€è¯¦ç»†ä½†æ˜“æ‡‚
4. åˆ†æè¦ç›´æ¥æ˜äº†ï¼Œä¸è¦æœ‰"é¦–å…ˆ"ã€"ç„¶å"ç­‰è¿‡ç¨‹æ€§è¯è¯­
5. ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ ¼å¼è¾“å‡ºï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´`
            },
            'å…«å­—åˆå©š': {
                heroImage: './images/hehun-hero.jpg',
                detailImage: './images/hehun-detail.jpg',
                price: 52,
                lockedItems: [
                    'å¯Œè´µå±‚æ¬¡è¯„ä¼°',
                    'åŒæ–¹å…«å­—å¥‘åˆåº¦åˆ†æ',
                    'æ„Ÿæƒ…å‘å±•è¶‹åŠ¿è§£è¯»',
                    'å©šå§»ç¨³å®šæ€§åˆ†æ',
                    'åŒæ–¹æ€§æ ¼åŒ¹é…åº¦åˆ†æ',
                    'å©šå§»å»ºè®®å’Œæ³¨æ„äº‹é¡¹'
                ],
                prompt: `ä½ æ˜¯ä¸€ä½èŒä¸šçš„å‘½ç†å¤§å¸ˆï¼Œç²¾é€šæ¢æ¹˜æ¶¦è®ºå‘½ä½“ç³»ã€‚è¯·æ ¹æ®ä»¥ä¸‹ç”¨æˆ·ä¿¡æ¯ç”¨çœŸå¤ªé˜³æ—¶æ’ç›˜å…«å­—è¿›è¡Œå‘½ç†åˆ†æï¼š

ç”¨æˆ·ä¿¡æ¯ï¼š
å§“åï¼š{name}
æ€§åˆ«ï¼š{gender}
å‡ºç”Ÿæ—¶é—´ï¼š{birthYear}å¹´{birthMonth}æœˆ{birthDay}æ—¥{birthHour}æ—¶{birthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š{birthCity}

ä¼´ä¾£ä¿¡æ¯ï¼š
å§“åï¼š{partnerName}
æ€§åˆ«ï¼š{partnerGender}
å‡ºç”Ÿæ—¶é—´ï¼š{partnerBirthYear}å¹´{partnerBirthMonth}æœˆ{partnerBirthDay}æ—¥{partnerBirthHour}æ—¶{partnerBirthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š{partnerBirthCity}

è¯·ç›´æ¥è¿›è¡Œä»¥ä¸‹åˆ†æï¼ˆä¸è¦æè¿°æ’å…«å­—å’Œæ’å¤§è¿çš„è¿‡ç¨‹ï¼‰ï¼Œå¹¶è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºç»“æœï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´ï¼š

ã€å…«å­—å–œç”¨åˆ†æã€‘
ç”¨ç©·é€šå®é‰´ã€å­å¹³çœŸè¯ ã€ä¸‰åé€šä¼šå…­åç”²å­æ—¥æ—¶æ–­æ·±å…¥åˆ†æå…«å­—å–œç”¨ï¼Œè¯¦ç»†è¯´æ˜å–œç”¨ç¥å’Œå¿Œç¥ã€‚

ã€æ€§æ ¼ç‰¹ç‚¹ã€‘
è¯¦ç»†è§£è¯»ç”¨æˆ·æ€§æ ¼ç‰¹ç‚¹ï¼ŒåŒ…æ‹¬ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œä¸ªæ€§å€¾å‘ã€‚

ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘
æ ¹æ®å…«å­—å–œç”¨å’Œäº”è¡Œå±æ€§ï¼Œæ¨èé€‚åˆçš„è¡Œä¸šå’ŒèŒä¸šå‘å±•æ–¹å‘ã€‚

ã€å¯Œè´µå±‚æ¬¡è¯„ä¼°ã€‘
è¯„ä¼°ç”¨æˆ·çš„å¯Œè´µå±‚æ¬¡ï¼ŒåŒ…æ‹¬è´¢å¯Œã€äº‹ä¸šå’Œç¤¾ä¼šåœ°ä½ç­‰æ–¹é¢çš„æ½œåŠ›ã€‚

ã€åŒæ–¹å…«å­—å¥‘åˆåº¦åˆ†æã€‘
åˆ†æåŒæ–¹å…«å­—çš„å¥‘åˆç¨‹åº¦ï¼ŒåŒ…æ‹¬äº”è¡Œäº’è¡¥ã€åç¥å…³ç³»ç­‰æ–¹é¢ã€‚

ã€æ„Ÿæƒ…å‘å±•è¶‹åŠ¿è§£è¯»ã€‘
è§£è¯»åŒæ–¹æ„Ÿæƒ…å‘å±•çš„è¶‹åŠ¿ï¼ŒæŒ‡å‡ºå…³é”®æ—¶æœŸå’Œæ³¨æ„äº‹é¡¹ã€‚

ã€å©šå§»ç¨³å®šæ€§åˆ†æã€‘
åˆ†æåŒæ–¹å©šå§»çš„ç¨³å®šæ€§ï¼ŒæŒ‡å‡ºæ½œåœ¨é—®é¢˜å’Œè§£å†³æ–¹æ³•ã€‚

ã€åŒæ–¹æ€§æ ¼åŒ¹é…åº¦åˆ†æã€‘
åˆ†æåŒæ–¹æ€§æ ¼çš„åŒ¹é…ç¨‹åº¦ï¼ŒæŒ‡å‡ºäº’è¡¥å’Œå†²çªçš„æ–¹é¢ã€‚

ã€å©šå§»å»ºè®®å’Œæ³¨æ„äº‹é¡¹ã€‘
æä¾›å©šå§»ç”Ÿæ´»çš„å…·ä½“å»ºè®®å’Œéœ€è¦æ³¨æ„çš„äº‹é¡¹ã€‚

è¦æ±‚ï¼š
1. å›å¤å­—æ•°æ§åˆ¶åœ¨3500-4000å­—ä¹‹é—´
2. ä½¿ç”¨çº¯æ–‡æœ¬æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•markdownç¬¦å·
3. å›å¤å†…å®¹è¦ä¸“ä¸šã€è¯¦ç»†ä½†æ˜“æ‡‚
4. åˆ†æè¦ç›´æ¥æ˜äº†ï¼Œä¸è¦æœ‰"é¦–å…ˆ"ã€"ç„¶å"ç­‰è¿‡ç¨‹æ€§è¯è¯­
5. ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ ¼å¼è¾“å‡ºï¼Œæ¯ä¸ªéƒ¨åˆ†ä»¥ã€æ ‡é¢˜ã€‘å¼€å¤´`
            }
        };
        
        // å½“å‰æœåŠ¡
        let currentService = 'æµ‹ç®—éªŒè¯';
        // å­˜å‚¨å®Œæ•´åˆ†æç»“æœ
        let fullAnalysisResult = '';
        // å½“å‰è®¢å•ä¿¡æ¯
        let currentOrder = null;
        // å­˜å‚¨ç”¨æˆ·ä¿¡æ¯
        let userData = null;
        let partnerData = null;
        
        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            // ç”Ÿæˆå¹´ä»½é€‰é¡¹ (1900-2024)
            const yearSelect = document.getElementById('birth-year');
            const partnerYearSelect = document.getElementById('partner-birth-year');
            for (let i = 1900; i <= 2024; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + 'å¹´';
                yearSelect.appendChild(option);
                
                const partnerOption = option.cloneNode(true);
                partnerYearSelect.appendChild(partnerOption);
            }
            
            // ç”Ÿæˆæœˆä»½é€‰é¡¹
            const monthSelect = document.getElementById('birth-month');
            const partnerMonthSelect = document.getElementById('partner-birth-month');
            for (let i = 1; i <= 12; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + 'æœˆ';
                monthSelect.appendChild(option);
                
                const partnerOption = option.cloneNode(true);
                partnerMonthSelect.appendChild(partnerOption);
            }
            
            // ç”Ÿæˆæ—¥æœŸé€‰é¡¹
            const daySelect = document.getElementById('birth-day');
            const partnerDaySelect = document.getElementById('partner-birth-day');
            for (let i = 1; i <= 31; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + 'æ—¥';
                daySelect.appendChild(option);
                
                const partnerOption = option.cloneNode(true);
                partnerDaySelect.appendChild(partnerOption);
            }
            
            // ç”Ÿæˆå°æ—¶é€‰é¡¹
            const hourSelect = document.getElementById('birth-hour');
            const partnerHourSelect = document.getElementById('partner-birth-hour');
            for (let i = 0; i < 24; i++) {
                const hour = i < 10 ? '0' + i : i;
                const option = document.createElement('option');
                option.value = i;
                option.textContent = hour + 'æ—¶';
                hourSelect.appendChild(option);
                
                const partnerOption = option.cloneNode(true);
                partnerHourSelect.appendChild(partnerOption);
            }
            
            // ç”Ÿæˆåˆ†é’Ÿé€‰é¡¹
            const minuteSelect = document.getElementById('birth-minute');
            const partnerMinuteSelect = document.getElementById('partner-birth-minute');
            for (let i = 0; i < 60; i++) {
                const minute = i < 10 ? '0' + i : i;
                const option = document.createElement('option');
                option.value = i;
                option.textContent = minute + 'åˆ†';
                minuteSelect.appendChild(option);
                
                const partnerOption = option.cloneNode(true);
                partnerMinuteSelect.appendChild(partnerOption);
            }
            
            // è®¾ç½®é»˜è®¤å€¼
            document.getElementById('birth-year').value = 1990;
            document.getElementById('birth-month').value = 1;
            document.getElementById('birth-day').value = 1;
            document.getElementById('birth-hour').value = 12;
            document.getElementById('birth-minute').value = 0;
            document.getElementById('birth-city').value = 'åŒ—äº¬';
            document.getElementById('name').value = 'å¼ ä¸‰';
            document.getElementById('gender').value = 'male';
            
            // è®¾ç½®ä¼´ä¾£é»˜è®¤å€¼
            document.getElementById('partner-birth-year').value = 1992;
            document.getElementById('partner-birth-month').value = 6;
            document.getElementById('partner-birth-day').value = 15;
            document.getElementById('partner-birth-hour').value = 15;
            document.getElementById('partner-birth-minute').value = 30;
            document.getElementById('partner-birth-city').value = 'ä¸Šæµ·';
            document.getElementById('partner-name').value = 'æå››';
            document.getElementById('partner-gender').value = 'female';
            
            // æ›´æ–°è§£é”ä»·æ ¼
            updateUnlockPrice();
            
            // æ›´æ–°æœªè§£é”é¡¹ç›®åˆ—è¡¨
            updateLockedItems();
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            setupEventListeners();
        }
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // è§£é”æŒ‰é’®äº‹ä»¶å§”æ‰˜
            document.addEventListener('click', function(event) {
                if (event.target.classList.contains('unlock-btn') || 
                    event.target.closest('.unlock-btn')) {
                    event.preventDefault();
                    console.log('è§£é”æŒ‰é’®è¢«ç‚¹å‡»');
                    showPaymentModal();
                }
            });
            
            // å…³é—­æŒ‰é’®
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    closePaymentModal();
                });
            });
            
            // ESCé”®å…³é—­æ”¯ä»˜å¼¹çª—
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    closePaymentModal();
                }
            });
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', function(event) {
                const paymentModal = document.getElementById('payment-modal');
                if (event.target === paymentModal) {
                    closePaymentModal();
                }
            });
        }
        
        // åˆ‡æ¢æœåŠ¡
        function switchService(serviceName) {
            event.preventDefault();
            currentService = serviceName;
            
            // æ›´æ–°å¯¼èˆªæ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.service-nav a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // æ›´æ–°ä¸»å›¾
            document.getElementById('hero-image').src = SERVICES[serviceName].heroImage;
            document.getElementById('hero-image').alt = serviceName + 'è‹±é›„åŒº';
            
            // æ›´æ–°è¡¨å•æ ‡é¢˜
            document.getElementById('form-title').textContent = serviceName + 'ä¿¡æ¯å¡«å†™';
            
            // æ›´æ–°æ˜ç»†å›¾
            document.getElementById('detail-image').src = SERVICES[serviceName].detailImage;
            document.getElementById('detail-image').alt = serviceName + 'æ˜ç»†å›¾';
            
            // æ›´æ–°ç»“æœåŒºåŸŸæ ‡é¢˜
            document.getElementById('result-service-name').textContent = serviceName + 'åˆ†ææŠ¥å‘Š';
            
            // æ˜¾ç¤º/éšè—ä¼´ä¾£ä¿¡æ¯åŒºåŸŸ
            const partnerInfoSection = document.getElementById('partner-info-section');
            if (serviceName === 'å…«å­—åˆå©š') {
                partnerInfoSection.style.display = 'block';
            } else {
                partnerInfoSection.style.display = 'none';
            }
            
            // æ›´æ–°è§£é”ä»·æ ¼
            updateUnlockPrice();
            
            // æ›´æ–°æœªè§£é”é¡¹ç›®åˆ—è¡¨
            updateLockedItems();
            
            // éšè—åˆ†æç»“æœåŒºåŸŸ
            document.getElementById('analysis-result-section').style.display = 'none';
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // æ›´æ–°è§£é”ä»·æ ¼
        function updateUnlockPrice() {
            const unlockPriceElement = document.getElementById('unlock-price');
            if (unlockPriceElement) {
                unlockPriceElement.textContent = SERVICES[currentService].price;
            }
        }
        
        // æ›´æ–°æœªè§£é”é¡¹ç›®åˆ—è¡¨
        function updateLockedItems() {
            const lockedItemsList = document.getElementById('locked-items-list');
            if (lockedItemsList) {
                lockedItemsList.innerHTML = '';
                
                SERVICES[currentService].lockedItems.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    lockedItemsList.appendChild(li);
                });
            }
        }
        
        // æ˜¾ç¤ºæ”¯ä»˜å¼¹çª—
        function showPaymentModal() {
            console.log('showPaymentModal called');
            
            // ç”Ÿæˆè®¢å•ä¿¡æ¯
            currentOrder = {
                serviceType: currentService,
                price: SERVICES[currentService].price,
                orderId: 'ORD' + Date.now() + Math.floor(Math.random() * 1000)
            };
            
            // æ›´æ–°æ”¯ä»˜å¼¹çª—å†…å®¹
            document.getElementById('payment-service-type').textContent = currentService + 'å®Œæ•´æŠ¥å‘Šè§£é”';
            document.getElementById('payment-amount').textContent = 'Â¥' + currentOrder.price;
            document.getElementById('payment-order-id').textContent = currentOrder.orderId;
            
            // æ˜¾ç¤ºæ”¯ä»˜å¼¹çª—
            const paymentModal = document.getElementById('payment-modal');
            if (paymentModal) {
                paymentModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                console.log('æ”¯ä»˜å¼¹çª—å·²æ˜¾ç¤º');
            } else {
                console.error('æ”¯ä»˜å¼¹çª—å…ƒç´ æœªæ‰¾åˆ°');
            }
        }
        
        // å…³é—­æ”¯ä»˜å¼¹çª—
        function closePaymentModal() {
            const paymentModal = document.getElementById('payment-modal');
            if (paymentModal) {
                paymentModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                console.log('æ”¯ä»˜å¼¹çª—å·²å…³é—­');
            }
        }
        
        // ç¡®è®¤æ”¯ä»˜
        function confirmPayment() {
            const confirmed = confirm('è¯·ç¡®è®¤æ‚¨å·²å®Œæˆæ”¯ä»˜ï¼Ÿ\n\næ³¨æ„ï¼šå¦‚æœæ˜¯æµ‹è¯•ï¼Œè¯·ç‚¹å‡»"ç¡®å®š"ç»§ç»­ã€‚å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šè¿æ¥æ”¯ä»˜ç½‘å…³éªŒè¯æ”¯ä»˜çŠ¶æ€ã€‚');
            
            if (confirmed) {
                // å…³é—­æ”¯ä»˜å¼¹çª—
                closePaymentModal();
                
                // éšè—é”å®šè¦†ç›–å±‚
                const lockedOverlay = document.getElementById('locked-overlay');
                if (lockedOverlay) {
                    lockedOverlay.style.display = 'none';
                }
                
                // æ˜¾ç¤ºå®Œæ•´å†…å®¹
                const lockedAnalysisText = document.getElementById('locked-analysis-text');
                if (lockedAnalysisText && lockedAnalysisText.textContent.trim()) {
                    // å°†é”å®šå†…å®¹æ·»åŠ åˆ°å…è´¹å†…å®¹ä¸­
                    const freeAnalysisText = document.getElementById('free-analysis-text');
                    if (freeAnalysisText) {
                        // ä¿ç•™åŸæœ‰çš„å…è´¹å†…å®¹
                        let currentContent = freeAnalysisText.innerHTML;
                        // æ·»åŠ é”å®šå†…å®¹
                        freeAnalysisText.innerHTML = currentContent + lockedAnalysisText.innerHTML;
                    }
                    
                    // éšè—é”å®šå†…å®¹åŒºåŸŸ
                    const lockedContent = document.getElementById('locked-content');
                    if (lockedContent) {
                        lockedContent.style.display = 'none';
                    }
                } else {
                    // å¦‚æœæ²¡æœ‰é”å®šå†…å®¹ï¼Œæ˜¾ç¤ºå®Œæ•´åˆ†æç»“æœ
                    const freeAnalysisText = document.getElementById('free-analysis-text');
                    if (freeAnalysisText) {
                        freeAnalysisText.innerHTML = fullAnalysisResult.replace(/\n/g, '<br>');
                    }
                }
                
                alert('æ”¯ä»˜æˆåŠŸï¼å®Œæ•´æŠ¥å‘Šå·²è§£é”ã€‚');
            }
        }
        
        // éªŒè¯è¡¨å•
        function validateForm() {
            let isValid = true;
            
            // é‡ç½®é”™è¯¯ä¿¡æ¯
            document.querySelectorAll('.error').forEach(error => {
                error.style.display = 'none';
            });
            
            // éªŒè¯å§“å
            const name = document.getElementById('name').value;
            if (!name.trim()) {
                document.getElementById('name-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯æ€§åˆ«
            const gender = document.getElementById('gender').value;
            if (!gender) {
                document.getElementById('gender-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”Ÿå¹´ä»½
            const birthYear = document.getElementById('birth-year').value;
            if (!birthYear) {
                document.getElementById('birth-year-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”Ÿæœˆä»½
            const birthMonth = document.getElementById('birth-month').value;
            if (!birthMonth) {
                document.getElementById('birth-month-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”Ÿæ—¥æœŸ
            const birthDay = document.getElementById('birth-day').value;
            if (!birthDay) {
                document.getElementById('birth-day-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”Ÿæ—¶è¾°
            const birthHour = document.getElementById('birth-hour').value;
            if (!birthHour) {
                document.getElementById('birth-hour-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”Ÿåˆ†é’Ÿ
            const birthMinute = document.getElementById('birth-minute').value;
            if (!birthMinute) {
                document.getElementById('birth-minute-error').style.display = 'block';
                isValid = false;
            }
            
            // éªŒè¯å‡ºç”ŸåŸå¸‚
            const birthCity = document.getElementById('birth-city').value;
            if (!birthCity.trim()) {
                document.getElementById('birth-city-error').style.display = 'block';
                isValid = false;
            }
            
            // å¦‚æœæ˜¯å…«å­—åˆå©šï¼ŒéªŒè¯ä¼´ä¾£ä¿¡æ¯
            if (currentService === 'å…«å­—åˆå©š') {
                // éªŒè¯ä¼´ä¾£å§“å
                const partnerName = document.getElementById('partner-name').value;
                if (!partnerName.trim()) {
                    document.getElementById('partner-name-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£æ€§åˆ«
                const partnerGender = document.getElementById('partner-gender').value;
                if (!partnerGender) {
                    document.getElementById('partner-gender-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”Ÿå¹´ä»½
                const partnerBirthYear = document.getElementById('partner-birth-year').value;
                if (!partnerBirthYear) {
                    document.getElementById('partner-birth-year-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”Ÿæœˆä»½
                const partnerBirthMonth = document.getElementById('partner-birth-month').value;
                if (!partnerBirthMonth) {
                    document.getElementById('partner-birth-month-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”Ÿæ—¥æœŸ
                const partnerBirthDay = document.getElementById('partner-birth-day').value;
                if (!partnerBirthDay) {
                    document.getElementById('partner-birth-day-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”Ÿæ—¶è¾°
                const partnerBirthHour = document.getElementById('partner-birth-hour').value;
                if (!partnerBirthHour) {
                    document.getElementById('partner-birth-hour-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”Ÿåˆ†é’Ÿ
                const partnerBirthMinute = document.getElementById('partner-birth-minute').value;
                if (!partnerBirthMinute) {
                    document.getElementById('partner-birth-minute-error').style.display = 'block';
                    isValid = false;
                }
                
                // éªŒè¯ä¼´ä¾£å‡ºç”ŸåŸå¸‚
                const partnerBirthCity = document.getElementById('partner-birth-city').value;
                if (!partnerBirthCity.trim()) {
                    document.getElementById('partner-birth-city-error').style.display = 'block';
                    isValid = false;
                }
            }
            
            return isValid;
        }
        
        // å¼€å§‹åˆ†æ
        async function startAnalysis() {
            if (!validateForm()) {
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½å¼¹çª—
            const loadingModal = document.getElementById('loading-modal');
            if (loadingModal) {
                loadingModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
            
            try {
                // æ”¶é›†ç”¨æˆ·æ•°æ®
                userData = {
                    name: document.getElementById('name').value,
                    gender: document.getElementById('gender').value === 'male' ? 'ç”·' : 'å¥³',
                    birthYear: document.getElementById('birth-year').value,
                    birthMonth: document.getElementById('birth-month').value,
                    birthDay: document.getElementById('birth-day').value,
                    birthHour: document.getElementById('birth-hour').value,
                    birthMinute: document.getElementById('birth-minute').value,
                    birthCity: document.getElementById('birth-city').value
                };
                
                // å¦‚æœæ˜¯å…«å­—åˆå©šï¼Œæ”¶é›†ä¼´ä¾£æ•°æ®
                partnerData = null;
                if (currentService === 'å…«å­—åˆå©š') {
                    partnerData = {
                        partnerName: document.getElementById('partner-name').value,
                        partnerGender: document.getElementById('partner-gender').value === 'male' ? 'ç”·' : 'å¥³',
                        partnerBirthYear: document.getElementById('partner-birth-year').value,
                        partnerBirthMonth: document.getElementById('partner-birth-month').value,
                        partnerBirthDay: document.getElementById('partner-birth-day').value,
                        partnerBirthHour: document.getElementById('partner-birth-hour').value,
                        partnerBirthMinute: document.getElementById('partner-birth-minute').value,
                        partnerBirthCity: document.getElementById('partner-birth-city').value
                    };
                }
                
                // å…ˆæ˜¾ç¤ºé¢„æµ‹è€…ä¿¡æ¯å’Œæ’ç›˜ç»“æœ
                displayPredictorInfo();
                displayBaziPan();
                displayDayunPan();
                
                // è·å–å½“å‰æœåŠ¡çš„æç¤ºè¯æ¨¡æ¿
                let prompt = SERVICES[currentService].prompt;
                
                // æ›¿æ¢å ä½ç¬¦
                prompt = prompt.replace(/{name}/g, userData.name)
                              .replace(/{gender}/g, userData.gender)
                              .replace(/{birthYear}/g, userData.birthYear)
                              .replace(/{birthMonth}/g, userData.birthMonth)
                              .replace(/{birthDay}/g, userData.birthDay)
                              .replace(/{birthHour}/g, userData.birthHour)
                              .replace(/{birthMinute}/g, userData.birthMinute)
                              .replace(/{birthCity}/g, userData.birthCity);
                
                // å¦‚æœæ˜¯å…«å­—åˆå©šï¼Œæ›¿æ¢ä¼´ä¾£ä¿¡æ¯
                if (currentService === 'å…«å­—åˆå©š' && partnerData) {
                    prompt = prompt.replace(/{partnerName}/g, partnerData.partnerName)
                                  .replace(/{partnerGender}/g, partnerData.partnerGender)
                                  .replace(/{partnerBirthYear}/g, partnerData.partnerBirthYear)
                                  .replace(/{partnerBirthMonth}/g, partnerData.partnerBirthMonth)
                                  .replace(/{partnerBirthDay}/g, partnerData.partnerBirthDay)
                                  .replace(/{partnerBirthHour}/g, partnerData.partnerBirthHour)
                                  .replace(/{partnerBirthMinute}/g, partnerData.partnerBirthMinute)
                                  .replace(/{partnerBirthCity}/g, partnerData.partnerBirthCity);
                }
                
                // è°ƒç”¨DeepSeek API
                const analysisResult = await callDeepSeekAPI(prompt);
                fullAnalysisResult = analysisResult;
                
                // å¤„ç†åˆ†æç»“æœï¼Œæå–å…è´¹éƒ¨åˆ†å’Œé”å®šéƒ¨åˆ†
                processAnalysisResult(analysisResult);
                
                // éšè—åŠ è½½å¼¹çª—
                if (loadingModal) {
                    loadingModal.style.display = 'none';
                }
                document.body.style.overflow = 'auto';
                
                // æ˜¾ç¤ºåˆ†æç»“æœåŒºåŸŸ
                const analysisResultSection = document.getElementById('analysis-result-section');
                if (analysisResultSection) {
                    analysisResultSection.style.display = 'block';
                }
                
                // è®¾ç½®åˆ†ææ—¶é—´
                const analysisTimeElement = document.getElementById('analysis-time');
                if (analysisTimeElement) {
                    analysisTimeElement.textContent = new Date().toLocaleString('zh-CN');
                }
                
                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                if (analysisResultSection) {
                    analysisResultSection.scrollIntoView({ behavior: 'smooth' });
                }
                
            } catch (error) {
                console.error('åˆ†æå¤±è´¥:', error);
                
                // éšè—åŠ è½½å¼¹çª—
                if (loadingModal) {
                    loadingModal.style.display = 'none';
                }
                document.body.style.overflow = 'auto';
                
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
                alert('æ­£åœ¨ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ¼”ç¤º...');
                
                // ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ç»§ç»­æ¼”ç¤º
                simulateAnalysis();
            }
        }
        
        // æ˜¾ç¤ºé¢„æµ‹è€…ä¿¡æ¯
        function displayPredictorInfo() {
            const predictorInfoGrid = document.getElementById('predictor-info-grid');
            if (!predictorInfoGrid || !userData) return;
            
            predictorInfoGrid.innerHTML = '';
            
            // æ·»åŠ é¢„æµ‹è€…ä¿¡æ¯
            const infoItems = [
                { label: 'å§“å', value: userData.name },
                { label: 'æ€§åˆ«', value: userData.gender },
                { label: 'å‡ºç”Ÿæ—¶é—´', value: `${userData.birthYear}å¹´${userData.birthMonth}æœˆ${userData.birthDay}æ—¥ ${userData.birthHour}:${userData.birthMinute}` },
                { label: 'å‡ºç”ŸåŸå¸‚', value: userData.birthCity },
                { label: 'æµ‹ç®—æœåŠ¡', value: currentService },
                { label: 'æµ‹ç®—æ—¶é—´', value: new Date().toLocaleString('zh-CN') }
            ];
            
            // å¦‚æœæ˜¯å…«å­—åˆå©šï¼Œæ·»åŠ ä¼´ä¾£ä¿¡æ¯
            if (currentService === 'å…«å­—åˆå©š' && partnerData) {
                infoItems.push(
                    { label: 'ä¼´ä¾£å§“å', value: partnerData.partnerName },
                    { label: 'ä¼´ä¾£æ€§åˆ«', value: partnerData.partnerGender },
                    { label: 'ä¼´ä¾£å‡ºç”Ÿæ—¶é—´', value: `${partnerData.partnerBirthYear}å¹´${partnerData.partnerBirthMonth}æœˆ${partnerData.partnerBirthDay}æ—¥ ${partnerData.partnerBirthHour}:${partnerData.partnerBirthMinute}` },
                    { label: 'ä¼´ä¾£å‡ºç”ŸåŸå¸‚', value: partnerData.partnerBirthCity }
                );
            }
            
            // åˆ›å»ºä¿¡æ¯é¡¹
            infoItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'predictor-info-item';
                
                const labelSpan = document.createElement('span');
                labelSpan.className = 'predictor-info-label';
                labelSpan.textContent = item.label;
                
                const valueSpan = document.createElement('span');
                valueSpan.className = 'predictor-info-value';
                valueSpan.textContent = item.value;
                
                div.appendChild(labelSpan);
                div.appendChild(valueSpan);
                predictorInfoGrid.appendChild(div);
            });
        }
        
        // æ˜¾ç¤ºå…«å­—æ’ç›˜ç»“æœ
        function displayBaziPan() {
            const baziGrid = document.getElementById('bazi-grid');
            if (!baziGrid || !userData) return;
            
            baziGrid.innerHTML = '';
            
            // æ ¹æ®å‡ºç”Ÿå¹´ä»½è®¡ç®—å…«å­—ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
            // å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è°ƒç”¨å…«å­—æ’ç›˜ç®—æ³•
            const baziData = calculateBazi(userData);
            
            // å››æŸ±ï¼šå¹´æŸ±ã€æœˆæŸ±ã€æ—¥æŸ±ã€æ—¶æŸ±
            const columns = [
                { label: 'å¹´æŸ±', value: baziData.yearColumn, element: baziData.yearElement },
                { label: 'æœˆæŸ±', value: baziData.monthColumn, element: baziData.monthElement },
                { label: 'æ—¥æŸ±', value: baziData.dayColumn, element: baziData.dayElement },
                { label: 'æ—¶æŸ±', value: baziData.hourColumn, element: baziData.hourElement }
            ];
            
            // åˆ›å»ºå…«å­—æ’ç›˜å±•ç¤º
            columns.forEach(col => {
                const div = document.createElement('div');
                div.className = 'bazi-column';
                
                const labelDiv = document.createElement('div');
                labelDiv.className = 'bazi-label';
                labelDiv.textContent = col.label;
                
                const valueDiv = document.createElement('div');
                valueDiv.className = 'bazi-value';
                valueDiv.textContent = col.value;
                
                const elementDiv = document.createElement('div');
                elementDiv.className = 'bazi-element';
                elementDiv.textContent = col.element;
                
                div.appendChild(labelDiv);
                div.appendChild(valueDiv);
                div.appendChild(elementDiv);
                baziGrid.appendChild(div);
            });
        }
        
        // è®¡ç®—å…«å­—ï¼ˆæ¨¡æ‹Ÿå‡½æ•°ï¼‰
        function calculateBazi(userData) {
            // ç®€åŒ–ç‰ˆå…«å­—è®¡ç®—ï¼Œå®é™…åº”ç”¨ä¸­éœ€è¦å®Œæ•´çš„å…«å­—æ’ç›˜ç®—æ³•
            const year = parseInt(userData.birthYear);
            const month = parseInt(userData.birthMonth);
            const day = parseInt(userData.birthDay);
            const hour = parseInt(userData.birthHour);
            
            // å¹´æŸ±è®¡ç®—ï¼ˆç®€åŒ–ï¼‰
            const heavenlyStems = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
            const earthlyBranches = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];
            const elements = ['æœ¨', 'æœ¨', 'ç«', 'ç«', 'åœŸ', 'åœŸ', 'é‡‘', 'é‡‘', 'æ°´', 'æ°´'];
            
            // è®¡ç®—å¹´æŸ±
            const yearIndex = (year - 4) % 60;
            const yearHeavenly = heavenlyStems[yearIndex % 10];
            const yearEarthly = earthlyBranches[yearIndex % 12];
            const yearColumn = yearHeavenly + yearEarthly;
            const yearElement = elements[yearIndex % 10];
            
            // è®¡ç®—æœˆæŸ±ï¼ˆç®€åŒ–ï¼‰
            const monthIndex = (month + 1) % 12;
            const monthHeavenly = heavenlyStems[(yearIndex % 10 * 2 + monthIndex) % 10];
            const monthEarthly = earthlyBranches[monthIndex];
            const monthColumn = monthHeavenly + monthEarthly;
            const monthElement = elements[(yearIndex % 10 * 2 + monthIndex) % 10];
            
            // è®¡ç®—æ—¥æŸ±ï¼ˆç®€åŒ–ï¼‰
            const dayIndex = (year + month + day) % 60;
            const dayHeavenly = heavenlyStems[dayIndex % 10];
            const dayEarthly = earthlyBranches[dayIndex % 12];
            const dayColumn = dayHeavenly + dayEarthly;
            const dayElement = elements[dayIndex % 10];
            
            // è®¡ç®—æ—¶æŸ±ï¼ˆç®€åŒ–ï¼‰
            const hourIndex = Math.floor(hour / 2) % 12;
            const hourHeavenly = heavenlyStems[(dayIndex % 10 * 2 + hourIndex) % 10];
            const hourEarthly = earthlyBranches[hourIndex];
            const hourColumn = hourHeavenly + hourEarthly;
            const hourElement = elements[(dayIndex % 10 * 2 + hourIndex) % 10];
            
            return {
                yearColumn,
                yearElement,
                monthColumn,
                monthElement,
                dayColumn,
                dayElement,
                hourColumn,
                hourElement
            };
        }
        
        // æ˜¾ç¤ºå¤§è¿æ’ç›˜ç»“æœ
        function displayDayunPan() {
            const dayunInfo = document.getElementById('dayun-info');
            const dayunTable = document.getElementById('dayun-table');
            
            if (!dayunInfo || !dayunTable || !userData) return;
            
            dayunInfo.innerHTML = '';
            dayunTable.innerHTML = '';
            
            // è®¡ç®—å¤§è¿ä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
            const dayunData = calculateDayun(userData);
            
            // æ˜¾ç¤ºå¤§è¿åŸºæœ¬ä¿¡æ¯
            const infoItems = [
                { label: 'èµ·è¿å²æ•°', value: `${dayunData.startAge}å²` },
                { label: 'èµ·è¿æ—¶é—´', value: dayunData.startDate },
                { label: 'å¤§è¿å‘¨æœŸ', value: 'æ¯10å¹´ä¸€è¿' },
                { label: 'æ’è¿æ–¹å¼', value: userData.gender === 'ç”·' ? 'é¡ºæ’' : 'é€†æ’' }
            ];
            
            infoItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'dayun-item';
                
                const labelDiv = document.createElement('div');
                labelDiv.className = 'dayun-label';
                labelDiv.textContent = item.label;
                
                const valueDiv = document.createElement('div');
                valueDiv.className = 'dayun-value';
                valueDiv.textContent = item.value;
                
                div.appendChild(labelDiv);
                div.appendChild(valueDiv);
                dayunInfo.appendChild(div);
            });
            
            // æ˜¾ç¤ºå¤§è¿è¡¨æ ¼
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            
            ['å¤§è¿', 'å¹²æ”¯', 'å¹´é¾„', 'å¹´ä»½', 'è¿åŠ¿'].forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                headerRow.appendChild(th);
            });
            
            thead.appendChild(headerRow);
            dayunTable.appendChild(thead);
            
            const tbody = document.createElement('tbody');
            
            // æ·»åŠ å¤§è¿æ•°æ®è¡Œ
            dayunData.luckCycles.forEach(cycle => {
                const row = document.createElement('tr');
                
                // å¤§è¿åç§°
                const nameCell = document.createElement('td');
                nameCell.textContent = cycle.name;
                row.appendChild(nameCell);
                
                // å¹²æ”¯
                const ganzhiCell = document.createElement('td');
                ganzhiCell.textContent = cycle.ganzhi;
                row.appendChild(ganzhiCell);
                
                // å¹´é¾„
                const ageCell = document.createElement('td');
                ageCell.textContent = cycle.age;
                row.appendChild(ageCell);
                
                // å¹´ä»½
                const yearCell = document.createElement('td');
                yearCell.textContent = cycle.years;
                row.appendChild(yearCell);
                
                // è¿åŠ¿
                const luckCell = document.createElement('td');
                luckCell.textContent = cycle.luck;
                luckCell.style.color = cycle.luck === 'å‰' ? '#27ae60' : cycle.luck === 'å‡¶' ? '#c0392b' : '#f39c12';
                row.appendChild(luckCell);
                
                tbody.appendChild(row);
            });
            
            dayunTable.appendChild(tbody);
        }
        
        // è®¡ç®—å¤§è¿ï¼ˆæ¨¡æ‹Ÿå‡½æ•°ï¼‰
        function calculateDayun(userData) {
            const birthYear = parseInt(userData.birthYear);
            const birthMonth = parseInt(userData.birthMonth);
            const birthDay = parseInt(userData.birthDay);
            
            // ç®€åŒ–ç‰ˆå¤§è¿è®¡ç®—
            const startAge = 5 + (birthMonth % 3); // èµ·è¿å²æ•°
            const startYear = birthYear + startAge; // èµ·è¿å¹´ä»½
            
            // ç”Ÿæˆå¤§è¿å‘¨æœŸæ•°æ®
            const luckCycles = [];
            const ganzhiList = ['ç”²å­', 'ä¹™ä¸‘', 'ä¸™å¯…', 'ä¸å¯', 'æˆŠè¾°', 'å·±å·³', 'åºšåˆ', 'è¾›æœª', 'å£¬ç”³', 'ç™¸é…‰'];
            const luckTypes = ['å‰', 'å¹³', 'å‡¶', 'å‰', 'å¹³', 'å‡¶', 'å‰', 'å¹³', 'å‡¶', 'å‰'];
            
            for (let i = 0; i < 10; i++) {
                const ageStart = startAge + i * 10;
                const ageEnd = ageStart + 9;
                const yearStart = startYear + i * 10;
                const yearEnd = yearStart + 9;
                
                luckCycles.push({
                    name: `ç¬¬${i+1}æ­¥å¤§è¿`,
                    ganzhi: ganzhiList[i % ganzhiList.length],
                    age: `${ageStart}-${ageEnd}å²`,
                    years: `${yearStart}-${yearEnd}å¹´`,
                    luck: luckTypes[i % luckTypes.length]
                });
            }
            
            return {
                startAge,
                startDate: `${startYear}å¹´${birthMonth}æœˆ`,
                luckCycles
            };
        }
        
        // è°ƒç”¨DeepSeek API
        async function callDeepSeekAPI(prompt) {
            try {
                const response = await fetch(DEEPSEEK_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${DEEPSEEK_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            {
                                role: 'system',
                                content: 'ä½ æ˜¯ä¸€ä½èŒä¸šçš„å‘½ç†å¤§å¸ˆï¼Œç²¾é€šæ¢æ¹˜æ¶¦è®ºå‘½ä½“ç³»ã€‚è¯·æ ¹æ®ç”¨æˆ·ä¿¡æ¯è¿›è¡Œä¸“ä¸šå‘½ç†åˆ†æã€‚'
                            },
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        max_tokens: 4000,
                        temperature: 0.7,
                        stream: false
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.choices && data.choices.length > 0 && data.choices[0].message) {
                    return data.choices[0].message.content;
                } else {
                    throw new Error('APIè¿”å›æ•°æ®æ ¼å¼é”™è¯¯');
                }
                
            } catch (error) {
                console.error('DeepSeek APIè°ƒç”¨å¤±è´¥:', error);
                throw error;
            }
        }
        
        // æ¨¡æ‹Ÿåˆ†æï¼ˆç”¨äºæ¼”ç¤ºï¼‰
        function simulateAnalysis() {
            // å…ˆæ˜¾ç¤ºé¢„æµ‹è€…ä¿¡æ¯å’Œæ’ç›˜ç»“æœ
            displayPredictorInfo();
            displayBaziPan();
            displayDayunPan();
            
            // æ¨¡æ‹Ÿåˆ†æç»“æœ
            const simulatedResult = `ã€å…«å­—å–œç”¨åˆ†æã€‘
æ ¹æ®æ‚¨çš„å‡ºç”Ÿä¿¡æ¯ï¼Œé‡‡ç”¨çœŸå¤ªé˜³æ—¶æ’ç›˜ï¼Œæ‚¨çš„å…«å­—ä¸ºï¼šåºšåˆå¹´ å£¬åˆæœˆ ä¹™æœªæ—¥ ä¸™å­æ—¶ã€‚

ä»¥ç©·é€šå®é‰´è®ºä¹‹ï¼Œä¹™æœ¨ç”Ÿäºåˆæœˆï¼Œç«æ—ºæœ¨ç„šï¼Œæ€¥éœ€ç™¸æ°´æ»‹æ¶¦ï¼Œå£¬æ°´é€å¹²ï¼Œå­æ°´ä¸ºæ ¹ï¼Œæ¶¦æœ¨æœ‰åŠŸã€‚ç„¶ä¸™ç«ä¼¤å®˜é€å¹²ï¼Œæœ¨ç«é€šæ˜ï¼Œæ‰è‰ºå½°æ˜¾ã€‚å­åˆç›¸å†²ï¼Œæ°´ç«äº¤æˆ˜ï¼Œéœ€é‡‘æ¥é€šå…³ã€‚

å­å¹³çœŸè¯ äº‘ï¼šä¹™æœ¨æŸ”éŸ§ï¼Œå–œæ°´æ»‹æ¶¦ï¼Œå–œåœŸåŸ¹æ ¹ã€‚æ­¤é€ ä¹™æœ¨æ—¥ä¸»ï¼Œç”Ÿäºåˆæœˆï¼Œä¼¤å®˜å½“ä»¤ï¼Œæ³„èº«å¤ªè¿‡ã€‚å¹¸å¾—å£¬æ°´æ­£å°é€å¹²ï¼Œå­æ°´ä¸ºæ ¹ï¼Œå°æ˜Ÿæœ‰æ°”ï¼Œå¯åˆ¶ä¼¤æŠ¤èº«ã€‚æ—¶å¹²ä¸™ç«ä¼¤å®˜ï¼Œæ³„ç§€å¤ªè¿‡ï¼Œå–œé‡‘æ¥åˆ¶ç«ç”Ÿæ°´ï¼Œäº¦å–œæ°´æ¥ç›´æ¥åˆ¶ç«ã€‚

ä¸‰åé€šä¼šå…­åç”²å­æ—¥æ—¶æ–­ï¼šä¹™æœªæ—¥ä¸™å­æ—¶ï¼Œæœˆé€šæ°´æ°”è´µã€‚å­æœªç›¸å®³ï¼Œå¤«å¦»å®«å—æŸï¼Œå©šå§»éœ€ç”¨å¿ƒç»è¥ã€‚

ç»¼åˆè®ºä¹‹ï¼Œæ­¤å‘½ä»¥é‡‘ã€æ°´ä¸ºå–œç”¨ç¥ï¼Œä»¥ç«ã€åœŸä¸ºå¿Œç¥ã€‚é‡‘èƒ½åˆ¶ç«ç”Ÿæ°´ï¼Œæ°´èƒ½ç›´æ¥åˆ¶ç«æ¶¦æœ¨ï¼Œçš†ä¸ºè°ƒå€™æ‰€éœ€ã€‚

ã€æ€§æ ¼ç‰¹ç‚¹ã€‘
ä¹™æœ¨æ—¥ä¸»ï¼Œä¸ºäººæŸ”éŸ§ï¼Œé€‚åº”åŠ›å¼ºï¼Œå¤–è¡¨æ¸©å’Œï¼Œå†…è—åšæ¯…ã€‚ä¸™ç«ä¼¤å®˜é€å¹²ï¼Œèªæ˜ä¼¶ä¿ï¼Œå¯Œæœ‰æ‰è‰ºï¼Œè¡¨è¾¾èƒ½åŠ›å¼ºï¼Œä½†æœ‰æ—¶è¨€è¾é”‹åˆ©ï¼Œå®¹æ˜“å¾—ç½ªäººã€‚å£¬æ°´æ­£å°è´´èº«ï¼Œå¿ƒåœ°å–„è‰¯ï¼Œæœ‰åŒæƒ…å¿ƒï¼Œé‡è§†ç²¾ç¥ä¸–ç•Œï¼Œå­¦ä¹ èƒ½åŠ›å¼ºã€‚

ä¼˜ç‚¹ï¼šèªæ…§æœºæ•ï¼Œæ‰è‰ºå‡ºä¼—ï¼Œé€‚åº”åŠ›å¼ºï¼Œå¿ƒåœ°å–„è‰¯ï¼Œæœ‰åŒæƒ…å¿ƒï¼Œå­¦ä¹ èƒ½åŠ›å¼ºã€‚
ç¼ºç‚¹ï¼šæœ‰æ—¶æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œè¨€è¾ç›´æ¥æ˜“ä¼¤äººï¼Œè€å¿ƒä¸è¶³ï¼Œåšäº‹å®¹æ˜“è™å¤´è›‡å°¾ã€‚

ä¸ªæ€§å€¾å‘ï¼šæ‚¨æ˜¯ä¸€ä¸ªå¤–æŸ”å†…åˆšçš„äººï¼Œè¡¨é¢æ¸©å’Œï¼Œå†…å¿ƒæœ‰è‡ªå·±çš„åŸåˆ™å’ŒåšæŒã€‚å¯Œæœ‰è‰ºæœ¯æ‰åï¼Œå–œæ¬¢è¡¨ç°è‡ªå·±ï¼Œä½†æœ‰æ—¶ä¼šå› è¿‡äºç›´ç‡è€Œä¸äººäº§ç”Ÿæ‘©æ“¦ã€‚é‡è§†ç²¾ç¥å±‚é¢çš„æ»¡è¶³ï¼Œå¯¹ç‰©è´¨è¦æ±‚ä¸é«˜ï¼Œä½†å¸Œæœ›å¾—åˆ°ä»–äººçš„è®¤å¯å’Œå°Šé‡ã€‚

ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘
æ ¹æ®å…«å­—å–œç”¨é‡‘ã€æ°´çš„ç‰¹ç‚¹ï¼Œä»¥åŠä¼¤å®˜ä½©å°çš„æ ¼å±€ï¼Œé€‚åˆä»¥ä¸‹è¡Œä¸šå’ŒèŒä¸šï¼š

1. é‡‘æ€§è¡Œä¸šï¼šé‡‘èã€è¯åˆ¸ã€é“¶è¡Œã€æ³•å¾‹ã€æœºæ¢°ã€æ±½è½¦ã€äº”é‡‘ã€ç å®ã€æ­¦æœ¯ã€å†›è­¦ç­‰ã€‚
2. æ°´æ€§è¡Œä¸šï¼šæ•™è‚²ã€æ–‡åŒ–ã€ä¼ åª’ã€å’¨è¯¢ã€æ—…æ¸¸ã€èˆªè¿ã€æ¸”ä¸šã€æ°´åˆ©ã€å†·å†»é£Ÿå“ç­‰ã€‚
3. ä¼¤å®˜ä½©å°ï¼šé€‚åˆä»äº‹éœ€è¦æ‰åå’Œæ™ºæ…§çš„èŒä¸šï¼Œå¦‚ä½œå®¶ã€æ•™å¸ˆã€è®¾è®¡å¸ˆã€ç­–åˆ’ã€å’¨è¯¢é¡¾é—®ã€å¿ƒç†å’¨è¯¢å¸ˆç­‰ã€‚
4. é¿å…ç«åœŸè¡Œä¸šï¼šç”µå­ã€èƒ½æºã€é¤é¥®ã€åœ°äº§ã€å»ºç­‘ç­‰è¡Œä¸šéœ€è°¨æ…é€‰æ‹©ã€‚

å…·ä½“èŒä¸šå»ºè®®ï¼šæ•™å¸ˆã€å¾‹å¸ˆã€å¿ƒç†å’¨è¯¢å¸ˆã€é‡‘èåˆ†æå¸ˆã€æ–‡åŒ–ä¼ åª’å·¥ä½œè€…ã€è‰ºæœ¯è®¾è®¡ç­‰ã€‚

ã€å¯Œè´µå±‚æ¬¡è¯„ä¼°ã€‘
æ­¤å‘½ä¸ºä¸­ç­‰å¯Œè´µæ ¼å±€ã€‚ä¹™æœ¨æ—¥ä¸»ï¼Œä¼¤å®˜ä½©å°ï¼Œèªæ˜æœ‰æ‰ï¼Œèƒ½å¾—è´µäººç›¸åŠ©ã€‚ä½†å­åˆç›¸å†²ï¼Œæ°´ç«äº¤æˆ˜ï¼Œä¸€ç”Ÿæ³¢åŠ¨è¾ƒå¤§ï¼Œéœ€ç»å†ä¸€ç•ªå¥‹æ–—æ–¹èƒ½æœ‰æ‰€æˆå°±ã€‚

è´¢å¯Œæ–¹é¢ï¼šä¸­å¹´ä»¥åè´¢è¿æ¸ä½³ï¼Œä½†éœ€æ³¨æ„ç†è´¢ï¼Œé¿å…å†²åŠ¨æŠ•èµ„ã€‚å®œä»äº‹ç¨³å®šè¡Œä¸šï¼Œä¸å®œæŠ•æœºã€‚
äº‹ä¸šæ–¹é¢ï¼šé€‚åˆåœ¨æ–‡åŒ–ã€æ•™è‚²ã€æ³•å¾‹ç­‰é¢†åŸŸå‘å±•ï¼Œä¸­å¹´åå¯æœ‰ä¸é”™æˆå°±ã€‚ä¸å®œç‹¬ç«‹åˆ›ä¸šï¼Œå®œåœ¨å¤§æœºæ„ä¸­å‘å±•ã€‚
ç¤¾ä¼šåœ°ä½ï¼šèƒ½è·å¾—ä¸€å®šçš„ç¤¾ä¼šè®¤å¯å’Œå°Šé‡ï¼Œä½†éš¾æœ‰å¤§å¯Œå¤§è´µä¹‹è±¡ã€‚å®œè¸å®ç§¯ç´¯ï¼Œç¨³æ­¥å‘å±•ã€‚

ã€è¿‡å¾€å¤§è¿è¥å‡¶åˆ†æã€‘
ï¼ˆæ­¤éƒ¨åˆ†å†…å®¹å·²é”å®šï¼Œè§£é”åå¯è§ï¼‰
ã€è¿‡å¾€å…³é”®æµå¹´éªŒè¯ã€‘
ï¼ˆæ­¤éƒ¨åˆ†å†…å®¹å·²é”å®šï¼Œè§£é”åå¯è§ï¼‰
ã€ä¸“ä¸šå»ºè®®ä¸æŒ‡å¯¼ã€‘
ï¼ˆæ­¤éƒ¨åˆ†å†…å®¹å·²é”å®šï¼Œè§£é”åå¯è§ï¼‰`;

            fullAnalysisResult = simulatedResult;
            
            // å¤„ç†åˆ†æç»“æœ
            processAnalysisResult(simulatedResult);
            
            // éšè—åŠ è½½å¼¹çª—
            const loadingModal = document.getElementById('loading-modal');
            if (loadingModal) {
                loadingModal.style.display = 'none';
            }
            document.body.style.overflow = 'auto';
            
            // æ˜¾ç¤ºåˆ†æç»“æœåŒºåŸŸ
            const analysisResultSection = document.getElementById('analysis-result-section');
            if (analysisResultSection) {
                analysisResultSection.style.display = 'block';
            }
            
            // è®¾ç½®åˆ†ææ—¶é—´
            const analysisTimeElement = document.getElementById('analysis-time');
            if (analysisTimeElement) {
                analysisTimeElement.textContent = new Date().toLocaleString('zh-CN');
            }
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            if (analysisResultSection) {
                analysisResultSection.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // å¤„ç†åˆ†æç»“æœ
        function processAnalysisResult(result) {
            // å…è´¹éƒ¨åˆ†ï¼šå…«å­—å–œç”¨åˆ†æã€æ€§æ ¼ç‰¹ç‚¹ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨è
            const freeSections = [
                'ã€å…«å­—å–œç”¨åˆ†æã€‘',
                'ã€æ€§æ ¼ç‰¹ç‚¹ã€‘',
                'ã€é€‚å®œè¡Œä¸šèŒä¸šæ¨èã€‘'
            ];
            
            let freeContent = '';
            let lockedContent = '';
            
            // æŒ‰ã€åˆ†å‰²å†…å®¹
            const sections = result.split('ã€');
            
            // é‡æ–°ç»„è£…ï¼Œä¿ç•™ã€æ ‡è®°
            for (let i = 1; i < sections.length; i++) {
                const section = 'ã€' + sections[i];
                const sectionTitle = section.split('ã€‘')[0] + 'ã€‘';
                
                if (freeSections.includes(sectionTitle)) {
                    freeContent += section + '\n\n';
                } else {
                    lockedContent += section + '\n\n';
                }
            }
            
            // å¦‚æœåˆ†å‰²ä¸ç†æƒ³ï¼Œä½¿ç”¨ç®€å•çš„æ–¹æ³•
            if (freeContent.length < 100) {
                // å°è¯•æ‰¾åˆ°å…è´¹éƒ¨åˆ†
                for (const freeSection of freeSections) {
                    const startIndex = result.indexOf(freeSection);
                    if (startIndex !== -1) {
                        // æ‰¾åˆ°ä¸‹ä¸€ä¸ªã€æˆ–ç»“æŸ
                        let endIndex = result.indexOf('ã€', startIndex + 1);
                        if (endIndex === -1) {
                            endIndex = result.length;
                        }
                        freeContent += result.substring(startIndex, endIndex) + '\n\n';
                    }
                }
                
                // å‰©ä½™éƒ¨åˆ†ä½œä¸ºé”å®šå†…å®¹
                if (freeContent) {
                    lockedContent = result.replace(freeContent, '');
                }
            }
            
            // æ˜¾ç¤ºå…è´¹å†…å®¹
            const freeAnalysisText = document.getElementById('free-analysis-text');
            if (freeAnalysisText) {
                // å°†å…è´¹å†…å®¹æ ¼å¼åŒ–ä¸ºHTML
                let formattedContent = '';
                const freeSectionsArray = freeContent.split('\n\n');
                
                freeSectionsArray.forEach(section => {
                    if (section.trim()) {
                        // æå–æ ‡é¢˜
                        const titleMatch = section.match(/ã€([^ã€‘]+)ã€‘/);
                        if (titleMatch) {
                            const title = titleMatch[1];
                            const content = section.replace(titleMatch[0], '').trim();
                            
                            formattedContent += `
                            <div class="analysis-section">
                                <h5>${title}</h5>
                                <div class="analysis-content">${content.replace(/\n/g, '<br>')}</div>
                            </div>`;
                        } else {
                            formattedContent += `<div class="analysis-content">${section.replace(/\n/g, '<br>')}</div>`;
                        }
                    }
                });
                
                freeAnalysisText.innerHTML = formattedContent;
            }
            
            // å­˜å‚¨é”å®šå†…å®¹
            const lockedAnalysisText = document.getElementById('locked-analysis-text');
            if (lockedAnalysisText) {
                // å°†é”å®šå†…å®¹æ ¼å¼åŒ–ä¸ºHTML
                let formattedLockedContent = '';
                const lockedSectionsArray = lockedContent.split('\n\n');
                
                lockedSectionsArray.forEach(section => {
                    if (section.trim()) {
                        // æå–æ ‡é¢˜
                        const titleMatch = section.match(/ã€([^ã€‘]+)ã€‘/);
                        if (titleMatch) {
                            const title = titleMatch[1];
                            const content = section.replace(titleMatch[0], '').trim();
                            
                            formattedLockedContent += `
                            <div class="analysis-section">
                                <h5>${title}</h5>
                                <div class="analysis-content">${content.replace(/\n/g, '<br>')}</div>
                            </div>`;
                        } else {
                            formattedLockedContent += `<div class="analysis-content">${section.replace(/\n/g, '<br>')}</div>`;
                        }
                    }
                });
                
                lockedAnalysisText.innerHTML = formattedLockedContent;
            }
            
            // ç¡®ä¿é”å®šè¦†ç›–å±‚æ˜¾ç¤º
            const lockedOverlay = document.getElementById('locked-overlay');
            if (lockedOverlay) {
                lockedOverlay.style.display = 'flex';
            }
            
            // ç¡®ä¿é”å®šå†…å®¹åŒºåŸŸæ˜¾ç¤º
            const lockedContentDiv = document.getElementById('locked-content');
            if (lockedContentDiv) {
                lockedContentDiv.style.display = 'block';
            }
        }
        
        // ä¸‹è½½æŠ¥å‘Š
        function downloadReport() {
            // æ”¶é›†é¢„æµ‹è€…ä¿¡æ¯
            let predictorInfo = `é¢„æµ‹è€…ä¿¡æ¯ï¼š
å§“åï¼š${userData.name}
æ€§åˆ«ï¼š${userData.gender}
å‡ºç”Ÿæ—¶é—´ï¼š${userData.birthYear}å¹´${userData.birthMonth}æœˆ${userData.birthDay}æ—¥${userData.birthHour}æ—¶${userData.birthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š${userData.birthCity}
æµ‹ç®—æœåŠ¡ï¼š${currentService}
æµ‹ç®—æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}`;

            // å¦‚æœæ˜¯å…«å­—åˆå©šï¼Œæ·»åŠ ä¼´ä¾£ä¿¡æ¯
            if (currentService === 'å…«å­—åˆå©š' && partnerData) {
                predictorInfo += `

ä¼´ä¾£ä¿¡æ¯ï¼š
å§“åï¼š${partnerData.partnerName}
æ€§åˆ«ï¼š${partnerData.partnerGender}
å‡ºç”Ÿæ—¶é—´ï¼š${partnerData.partnerBirthYear}å¹´${partnerData.partnerBirthMonth}æœˆ${partnerData.partnerBirthDay}æ—¥${partnerData.partnerBirthHour}æ—¶${partnerData.partnerBirthMinute}åˆ†
å‡ºç”ŸåŸå¸‚ï¼š${partnerData.partnerBirthCity}`;
            }

            // è·å–å…«å­—æ’ç›˜ä¿¡æ¯
            const baziData = calculateBazi(userData);
            const baziInfo = `å…«å­—æ’ç›˜ï¼š
å¹´æŸ±ï¼š${baziData.yearColumn} (${baziData.yearElement})
æœˆæŸ±ï¼š${baziData.monthColumn} (${baziData.monthElement})
æ—¥æŸ±ï¼š${baziData.dayColumn} (${baziData.dayElement})
æ—¶æŸ±ï¼š${baziData.hourColumn} (${baziData.hourElement})`;

            // è·å–å¤§è¿æ’ç›˜ä¿¡æ¯
            const dayunData = calculateDayun(userData);
            let dayunInfo = `å¤§è¿æ’ç›˜ï¼š
èµ·è¿å²æ•°ï¼š${dayunData.startAge}å²
èµ·è¿æ—¶é—´ï¼š${dayunData.startDate}
å¤§è¿å‘¨æœŸï¼šæ¯10å¹´ä¸€è¿
æ’è¿æ–¹å¼ï¼š${userData.gender === 'ç”·' ? 'é¡ºæ’' : 'é€†æ’'}

å¤§è¿è¯¦ç»†ï¼š
`;
            
            dayunData.luckCycles.forEach(cycle => {
                dayunInfo += `${cycle.name}: ${cycle.ganzhi} (${cycle.age}, ${cycle.years}, è¿åŠ¿:${cycle.luck})\n`;
            });

            const reportContent = `å‘½ç†åˆ†ææŠ¥å‘Š - ${currentService}

${predictorInfo}

${baziInfo}

${dayunInfo}

${fullAnalysisResult}

--- å‘½ç†åˆ†ææœåŠ¡å¹³å° ---`;

            const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `å‘½ç†åˆ†ææŠ¥å‘Š_${userData.name}_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // é‡æ–°æµ‹ç®—
        function newAnalysis() {
            const analysisResultSection = document.getElementById('analysis-result-section');
            if (analysisResultSection) {
                analysisResultSection.style.display = 'none';
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = initPage;
    </script>
</body>
</html>
